function lp(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function up(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Kc={exports:{}},Li={},Gc={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gs=Symbol.for("react.element"),cp=Symbol.for("react.portal"),dp=Symbol.for("react.fragment"),hp=Symbol.for("react.strict_mode"),fp=Symbol.for("react.profiler"),pp=Symbol.for("react.provider"),mp=Symbol.for("react.context"),gp=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),yp=Symbol.for("react.memo"),wp=Symbol.for("react.lazy"),lu=Symbol.iterator;function xp(e){return e===null||typeof e!="object"?null:(e=lu&&e[lu]||e["@@iterator"],typeof e=="function"?e:null)}var Qc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jc=Object.assign,Yc={};function vn(e,t,r){this.props=e,this.context=t,this.refs=Yc,this.updater=r||Qc}vn.prototype.isReactComponent={};vn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xc(){}Xc.prototype=vn.prototype;function Qa(e,t,r){this.props=e,this.context=t,this.refs=Yc,this.updater=r||Qc}var Ja=Qa.prototype=new Xc;Ja.constructor=Qa;Jc(Ja,vn.prototype);Ja.isPureReactComponent=!0;var uu=Array.isArray,Zc=Object.prototype.hasOwnProperty,Ya={current:null},ed={key:!0,ref:!0,__self:!0,__source:!0};function td(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Zc.call(t,n)&&!ed.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:gs,type:e,key:i,ref:o,props:s,_owner:Ya.current}}function _p(e,t){return{$$typeof:gs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xa(e){return typeof e=="object"&&e!==null&&e.$$typeof===gs}function kp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var cu=/\/+/g;function ao(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kp(""+e.key):t.toString(36)}function Ks(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case gs:case cp:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+ao(o,0):n,uu(s)?(r="",e!=null&&(r=e.replace(cu,"$&/")+"/"),Ks(s,t,r,"",function(c){return c})):s!=null&&(Xa(s)&&(s=_p(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",uu(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+ao(i,a);o+=Ks(i,t,r,l,s)}else if(l=xp(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+ao(i,a++),o+=Ks(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Es(e,t,r){if(e==null)return e;var n=[],s=0;return Ks(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Sp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},Gs={transition:null},jp={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Gs,ReactCurrentOwner:Ya};function rd(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Es,forEach:function(e,t,r){Es(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Es(e,function(){t++}),t},toArray:function(e){return Es(e,function(t){return t})||[]},only:function(e){if(!Xa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=vn;B.Fragment=dp;B.Profiler=fp;B.PureComponent=Qa;B.StrictMode=hp;B.Suspense=vp;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jp;B.act=rd;B.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Jc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ya.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Zc.call(t,l)&&!ed.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:gs,type:e.type,key:s,ref:i,props:n,_owner:o}};B.createContext=function(e){return e={$$typeof:mp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pp,_context:e},e.Consumer=e};B.createElement=td;B.createFactory=function(e){var t=td.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:gp,render:e}};B.isValidElement=Xa;B.lazy=function(e){return{$$typeof:wp,_payload:{_status:-1,_result:e},_init:Sp}};B.memo=function(e,t){return{$$typeof:yp,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=Gs.transition;Gs.transition={};try{e()}finally{Gs.transition=t}};B.unstable_act=rd;B.useCallback=function(e,t){return Te.current.useCallback(e,t)};B.useContext=function(e){return Te.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};B.useEffect=function(e,t){return Te.current.useEffect(e,t)};B.useId=function(){return Te.current.useId()};B.useImperativeHandle=function(e,t,r){return Te.current.useImperativeHandle(e,t,r)};B.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Te.current.useMemo(e,t)};B.useReducer=function(e,t,r){return Te.current.useReducer(e,t,r)};B.useRef=function(e){return Te.current.useRef(e)};B.useState=function(e){return Te.current.useState(e)};B.useSyncExternalStore=function(e,t,r){return Te.current.useSyncExternalStore(e,t,r)};B.useTransition=function(){return Te.current.useTransition()};B.version="18.3.1";Gc.exports=B;var k=Gc.exports;const P=qc(k),bp=lp({__proto__:null,default:P},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep=k,Np=Symbol.for("react.element"),Cp=Symbol.for("react.fragment"),Pp=Object.prototype.hasOwnProperty,Tp=Ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Op={key:!0,ref:!0,__self:!0,__source:!0};function nd(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Pp.call(t,n)&&!Op.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Np,type:e,key:i,ref:o,props:s,_owner:Tp.current}}Li.Fragment=Cp;Li.jsx=nd;Li.jsxs=nd;Kc.exports=Li;var u=Kc.exports,sd={exports:{}},qe={},id={exports:{}},od={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,O){var $=b.length;b.push(O);e:for(;0<$;){var R=$-1>>>1,L=b[R];if(0<s(L,O))b[R]=O,b[$]=L,$=R;else break e}}function r(b){return b.length===0?null:b[0]}function n(b){if(b.length===0)return null;var O=b[0],$=b.pop();if($!==O){b[0]=$;e:for(var R=0,L=b.length,H=L>>>1;R<H;){var ue=2*(R+1)-1,Re=b[ue],q=ue+1,Ne=b[q];if(0>s(Re,$))q<L&&0>s(Ne,Re)?(b[R]=Ne,b[q]=$,R=q):(b[R]=Re,b[ue]=$,R=ue);else if(q<L&&0>s(Ne,$))b[R]=Ne,b[q]=$,R=q;else break e}}return O}function s(b,O){var $=b.sortIndex-O.sortIndex;return $!==0?$:b.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,d=3,g=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(b){for(var O=r(c);O!==null;){if(O.callback===null)n(c);else if(O.startTime<=b)n(c),O.sortIndex=O.expirationTime,t(l,O);else break;O=r(c)}}function _(b){if(x=!1,v(b),!y)if(r(l)!==null)y=!0,re(j);else{var O=r(c);O!==null&&_e(_,O.startTime-b)}}function j(b,O){y=!1,x&&(x=!1,p(S),S=-1),g=!0;var $=d;try{for(v(O),f=r(l);f!==null&&(!(f.expirationTime>O)||b&&!M());){var R=f.callback;if(typeof R=="function"){f.callback=null,d=f.priorityLevel;var L=R(f.expirationTime<=O);O=e.unstable_now(),typeof L=="function"?f.callback=L:f===r(l)&&n(l),v(O)}else n(l);f=r(l)}if(f!==null)var H=!0;else{var ue=r(c);ue!==null&&_e(_,ue.startTime-O),H=!1}return H}finally{f=null,d=$,g=!1}}var N=!1,C=null,S=-1,A=5,I=-1;function M(){return!(e.unstable_now()-I<A)}function ee(){if(C!==null){var b=e.unstable_now();I=b;var O=!0;try{O=C(!0,b)}finally{O?ve():(N=!1,C=null)}}else N=!1}var ve;if(typeof m=="function")ve=function(){m(ee)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,nt=Ge.port2;Ge.port1.onmessage=ee,ve=function(){nt.postMessage(null)}}else ve=function(){w(ee,0)};function re(b){C=b,N||(N=!0,ve())}function _e(b,O){S=w(function(){b(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,re(j))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(b){switch(d){case 1:case 2:case 3:var O=3;break;default:O=d}var $=d;d=O;try{return b()}finally{d=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,O){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var $=d;d=b;try{return O()}finally{d=$}},e.unstable_scheduleCallback=function(b,O,$){var R=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?R+$:R):$=R,b){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=$+L,b={id:h++,callback:O,priorityLevel:b,startTime:$,expirationTime:L,sortIndex:-1},$>R?(b.sortIndex=$,t(c,b),r(l)===null&&b===r(c)&&(x?(p(S),S=-1):x=!0,_e(_,$-R))):(b.sortIndex=L,t(l,b),y||g||(y=!0,re(j))),b},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(b){var O=d;return function(){var $=d;d=O;try{return b.apply(this,arguments)}finally{d=$}}}})(od);id.exports=od;var Rp=id.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip=k,Ve=Rp;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ad=new Set,Jn={};function Cr(e,t){un(e,t),un(e+"Capture",t)}function un(e,t){for(Jn[e]=t,e=0;e<t.length;e++)ad.add(t[e])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bo=Object.prototype.hasOwnProperty,Lp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,du={},hu={};function $p(e){return Bo.call(hu,e)?!0:Bo.call(du,e)?!1:Lp.test(e)?hu[e]=!0:(du[e]=!0,!1)}function Ap(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Up(e,t,r,n){if(t===null||typeof t>"u"||Ap(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xe[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xe[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xe[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xe[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xe[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xe[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xe[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xe[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xe[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Za=/[\-:]([a-z])/g;function el(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Za,el);xe[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Za,el);xe[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Za,el);xe[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xe[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xe[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function tl(e,t,r,n){var s=xe.hasOwnProperty(t)?xe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Up(t,r,s,n)&&(r=null),n||s===null?$p(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Rt=Ip.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ns=Symbol.for("react.element"),Hr=Symbol.for("react.portal"),Vr=Symbol.for("react.fragment"),rl=Symbol.for("react.strict_mode"),Wo=Symbol.for("react.profiler"),ld=Symbol.for("react.provider"),ud=Symbol.for("react.context"),nl=Symbol.for("react.forward_ref"),Ho=Symbol.for("react.suspense"),Vo=Symbol.for("react.suspense_list"),sl=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),cd=Symbol.for("react.offscreen"),fu=Symbol.iterator;function bn(e){return e===null||typeof e!="object"?null:(e=fu&&e[fu]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,lo;function Ln(e){if(lo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);lo=t&&t[1]||""}return`
`+lo+e}var uo=!1;function co(e,t){if(!e||uo)return"";uo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{uo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ln(e):""}function Dp(e){switch(e.tag){case 5:return Ln(e.type);case 16:return Ln("Lazy");case 13:return Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 2:case 15:return e=co(e.type,!1),e;case 11:return e=co(e.type.render,!1),e;case 1:return e=co(e.type,!0),e;default:return""}}function qo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vr:return"Fragment";case Hr:return"Portal";case Wo:return"Profiler";case rl:return"StrictMode";case Ho:return"Suspense";case Vo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ud:return(e.displayName||"Context")+".Consumer";case ld:return(e._context.displayName||"Context")+".Provider";case nl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sl:return t=e.displayName||null,t!==null?t:qo(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return qo(e(t))}catch{}}return null}function zp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qo(t);case 8:return t===rl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mp(e){var t=dd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cs(e){e._valueTracker||(e._valueTracker=Mp(e))}function hd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=dd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ko(e,t){var r=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function pu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=rr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fd(e,t){t=t.checked,t!=null&&tl(e,"checked",t,!1)}function Go(e,t){fd(e,t);var r=rr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qo(e,t.type,r):t.hasOwnProperty("defaultValue")&&Qo(e,t.type,rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Qo(e,t,r){(t!=="number"||ii(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $n=Array.isArray;function rn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+rr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Jo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if($n(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:rr(r)}}function pd(e,t){var r=rr(t.value),n=rr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function vu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function md(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?md(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ps,gd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ps=Ps||document.createElement("div"),Ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fp=["Webkit","ms","Moz","O"];Object.keys(zn).forEach(function(e){Fp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zn[t]=zn[e]})});function vd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zn.hasOwnProperty(e)&&zn[e]?(""+t).trim():t+"px"}function yd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=vd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Bp=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xo(e,t){if(t){if(Bp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Zo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ea=null;function il(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ta=null,nn=null,sn=null;function yu(e){if(e=ws(e)){if(typeof ta!="function")throw Error(E(280));var t=e.stateNode;t&&(t=zi(t),ta(e.stateNode,e.type,t))}}function wd(e){nn?sn?sn.push(e):sn=[e]:nn=e}function xd(){if(nn){var e=nn,t=sn;if(sn=nn=null,yu(e),t)for(e=0;e<t.length;e++)yu(t[e])}}function _d(e,t){return e(t)}function kd(){}var ho=!1;function Sd(e,t,r){if(ho)return e(t,r);ho=!0;try{return _d(e,t,r)}finally{ho=!1,(nn!==null||sn!==null)&&(kd(),xd())}}function Xn(e,t){var r=e.stateNode;if(r===null)return null;var n=zi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var ra=!1;if(Ct)try{var En={};Object.defineProperty(En,"passive",{get:function(){ra=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{ra=!1}function Wp(e,t,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(h){this.onError(h)}}var Mn=!1,oi=null,ai=!1,na=null,Hp={onError:function(e){Mn=!0,oi=e}};function Vp(e,t,r,n,s,i,o,a,l){Mn=!1,oi=null,Wp.apply(Hp,arguments)}function qp(e,t,r,n,s,i,o,a,l){if(Vp.apply(this,arguments),Mn){if(Mn){var c=oi;Mn=!1,oi=null}else throw Error(E(198));ai||(ai=!0,na=c)}}function Pr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wu(e){if(Pr(e)!==e)throw Error(E(188))}function Kp(e){var t=e.alternate;if(!t){if(t=Pr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return wu(s),e;if(i===n)return wu(s),t;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function bd(e){return e=Kp(e),e!==null?Ed(e):null}function Ed(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ed(e);if(t!==null)return t;e=e.sibling}return null}var Nd=Ve.unstable_scheduleCallback,xu=Ve.unstable_cancelCallback,Gp=Ve.unstable_shouldYield,Qp=Ve.unstable_requestPaint,ae=Ve.unstable_now,Jp=Ve.unstable_getCurrentPriorityLevel,ol=Ve.unstable_ImmediatePriority,Cd=Ve.unstable_UserBlockingPriority,li=Ve.unstable_NormalPriority,Yp=Ve.unstable_LowPriority,Pd=Ve.unstable_IdlePriority,$i=null,wt=null;function Xp(e){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:tm,Zp=Math.log,em=Math.LN2;function tm(e){return e>>>=0,e===0?32:31-(Zp(e)/em|0)|0}var Ts=64,Os=4194304;function An(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ui(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=An(a):(i&=o,i!==0&&(n=An(i)))}else o=r&~s,o!==0?n=An(o):i!==0&&(n=An(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ct(t),s=1<<r,n|=e[r],t&=~s;return n}function rm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ct(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=rm(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function sa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Td(){var e=Ts;return Ts<<=1,!(Ts&4194240)&&(Ts=64),e}function fo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=r}function sm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ct(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function al(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ct(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var K=0;function Od(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rd,ll,Id,Ld,$d,ia=!1,Rs=[],Kt=null,Gt=null,Qt=null,Zn=new Map,es=new Map,Ft=[],im="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _u(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Zn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":es.delete(t.pointerId)}}function Nn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ws(t),t!==null&&ll(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function om(e,t,r,n,s){switch(t){case"focusin":return Kt=Nn(Kt,e,t,r,n,s),!0;case"dragenter":return Gt=Nn(Gt,e,t,r,n,s),!0;case"mouseover":return Qt=Nn(Qt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Zn.set(i,Nn(Zn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,es.set(i,Nn(es.get(i)||null,e,t,r,n,s)),!0}return!1}function Ad(e){var t=yr(e.target);if(t!==null){var r=Pr(t);if(r!==null){if(t=r.tag,t===13){if(t=jd(r),t!==null){e.blockedOn=t,$d(e.priority,function(){Id(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=oa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ea=n,r.target.dispatchEvent(n),ea=null}else return t=ws(r),t!==null&&ll(t),e.blockedOn=r,!1;t.shift()}return!0}function ku(e,t,r){Qs(e)&&r.delete(t)}function am(){ia=!1,Kt!==null&&Qs(Kt)&&(Kt=null),Gt!==null&&Qs(Gt)&&(Gt=null),Qt!==null&&Qs(Qt)&&(Qt=null),Zn.forEach(ku),es.forEach(ku)}function Cn(e,t){e.blockedOn===t&&(e.blockedOn=null,ia||(ia=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,am)))}function ts(e){function t(s){return Cn(s,e)}if(0<Rs.length){Cn(Rs[0],e);for(var r=1;r<Rs.length;r++){var n=Rs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kt!==null&&Cn(Kt,e),Gt!==null&&Cn(Gt,e),Qt!==null&&Cn(Qt,e),Zn.forEach(t),es.forEach(t),r=0;r<Ft.length;r++)n=Ft[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ft.length&&(r=Ft[0],r.blockedOn===null);)Ad(r),r.blockedOn===null&&Ft.shift()}var on=Rt.ReactCurrentBatchConfig,ci=!0;function lm(e,t,r,n){var s=K,i=on.transition;on.transition=null;try{K=1,ul(e,t,r,n)}finally{K=s,on.transition=i}}function um(e,t,r,n){var s=K,i=on.transition;on.transition=null;try{K=4,ul(e,t,r,n)}finally{K=s,on.transition=i}}function ul(e,t,r,n){if(ci){var s=oa(e,t,r,n);if(s===null)So(e,t,n,di,r),_u(e,n);else if(om(s,e,t,r,n))n.stopPropagation();else if(_u(e,n),t&4&&-1<im.indexOf(e)){for(;s!==null;){var i=ws(s);if(i!==null&&Rd(i),i=oa(e,t,r,n),i===null&&So(e,t,n,di,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else So(e,t,n,null,r)}}var di=null;function oa(e,t,r,n){if(di=null,e=il(n),e=yr(e),e!==null)if(t=Pr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return di=e,null}function Ud(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jp()){case ol:return 1;case Cd:return 4;case li:case Yp:return 16;case Pd:return 536870912;default:return 16}default:return 16}}var Ht=null,cl=null,Js=null;function Dd(){if(Js)return Js;var e,t=cl,r=t.length,n,s="value"in Ht?Ht.value:Ht.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Js=s.slice(e,1<n?1-n:void 0)}function Ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Is(){return!0}function Su(){return!1}function Ke(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Is:Su,this.isPropagationStopped=Su,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),t}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=Ke(yn),ys=ie({},yn,{view:0,detail:0}),cm=Ke(ys),po,mo,Pn,Ai=ie({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pn&&(Pn&&e.type==="mousemove"?(po=e.screenX-Pn.screenX,mo=e.screenY-Pn.screenY):mo=po=0,Pn=e),po)},movementY:function(e){return"movementY"in e?e.movementY:mo}}),ju=Ke(Ai),dm=ie({},Ai,{dataTransfer:0}),hm=Ke(dm),fm=ie({},ys,{relatedTarget:0}),go=Ke(fm),pm=ie({},yn,{animationName:0,elapsedTime:0,pseudoElement:0}),mm=Ke(pm),gm=ie({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vm=Ke(gm),ym=ie({},yn,{data:0}),bu=Ke(ym),wm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_m={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function km(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_m[e])?!!t[e]:!1}function hl(){return km}var Sm=ie({},ys,{key:function(e){if(e.key){var t=wm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hl,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jm=Ke(Sm),bm=ie({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=Ke(bm),Em=ie({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hl}),Nm=Ke(Em),Cm=ie({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pm=Ke(Cm),Tm=ie({},Ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Om=Ke(Tm),Rm=[9,13,27,32],fl=Ct&&"CompositionEvent"in window,Fn=null;Ct&&"documentMode"in document&&(Fn=document.documentMode);var Im=Ct&&"TextEvent"in window&&!Fn,zd=Ct&&(!fl||Fn&&8<Fn&&11>=Fn),Nu=" ",Cu=!1;function Md(e,t){switch(e){case"keyup":return Rm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function Lm(e,t){switch(e){case"compositionend":return Fd(t);case"keypress":return t.which!==32?null:(Cu=!0,Nu);case"textInput":return e=t.data,e===Nu&&Cu?null:e;default:return null}}function $m(e,t){if(qr)return e==="compositionend"||!fl&&Md(e,t)?(e=Dd(),Js=cl=Ht=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zd&&t.locale!=="ko"?null:t.data;default:return null}}var Am={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Am[e.type]:t==="textarea"}function Bd(e,t,r,n){wd(n),t=hi(t,"onChange"),0<t.length&&(r=new dl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Bn=null,rs=null;function Um(e){Zd(e,0)}function Ui(e){var t=Qr(e);if(hd(t))return e}function Dm(e,t){if(e==="change")return t}var Wd=!1;if(Ct){var vo;if(Ct){var yo="oninput"in document;if(!yo){var Tu=document.createElement("div");Tu.setAttribute("oninput","return;"),yo=typeof Tu.oninput=="function"}vo=yo}else vo=!1;Wd=vo&&(!document.documentMode||9<document.documentMode)}function Ou(){Bn&&(Bn.detachEvent("onpropertychange",Hd),rs=Bn=null)}function Hd(e){if(e.propertyName==="value"&&Ui(rs)){var t=[];Bd(t,rs,e,il(e)),Sd(Um,t)}}function zm(e,t,r){e==="focusin"?(Ou(),Bn=t,rs=r,Bn.attachEvent("onpropertychange",Hd)):e==="focusout"&&Ou()}function Mm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ui(rs)}function Fm(e,t){if(e==="click")return Ui(t)}function Bm(e,t){if(e==="input"||e==="change")return Ui(t)}function Wm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:Wm;function ns(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Bo.call(t,s)||!ht(e[s],t[s]))return!1}return!0}function Ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Iu(e,t){var r=Ru(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ru(r)}}function Vd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qd(){for(var e=window,t=ii();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ii(e.document)}return t}function pl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hm(e){var t=qd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Vd(r.ownerDocument.documentElement,r)){if(n!==null&&pl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Iu(r,i);var o=Iu(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vm=Ct&&"documentMode"in document&&11>=document.documentMode,Kr=null,aa=null,Wn=null,la=!1;function Lu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;la||Kr==null||Kr!==ii(n)||(n=Kr,"selectionStart"in n&&pl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wn&&ns(Wn,n)||(Wn=n,n=hi(aa,"onSelect"),0<n.length&&(t=new dl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Kr)))}function Ls(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gr={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},wo={},Kd={};Ct&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function Di(e){if(wo[e])return wo[e];if(!Gr[e])return e;var t=Gr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Kd)return wo[e]=t[r];return e}var Gd=Di("animationend"),Qd=Di("animationiteration"),Jd=Di("animationstart"),Yd=Di("transitionend"),Xd=new Map,$u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(e,t){Xd.set(e,t),Cr(t,[e])}for(var xo=0;xo<$u.length;xo++){var _o=$u[xo],qm=_o.toLowerCase(),Km=_o[0].toUpperCase()+_o.slice(1);sr(qm,"on"+Km)}sr(Gd,"onAnimationEnd");sr(Qd,"onAnimationIteration");sr(Jd,"onAnimationStart");sr("dblclick","onDoubleClick");sr("focusin","onFocus");sr("focusout","onBlur");sr(Yd,"onTransitionEnd");un("onMouseEnter",["mouseout","mouseover"]);un("onMouseLeave",["mouseout","mouseover"]);un("onPointerEnter",["pointerout","pointerover"]);un("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Un));function Au(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,qp(n,t,void 0,e),e.currentTarget=null}function Zd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Au(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Au(s,a,c),i=l}}}if(ai)throw e=na,ai=!1,na=null,e}function X(e,t){var r=t[fa];r===void 0&&(r=t[fa]=new Set);var n=e+"__bubble";r.has(n)||(eh(t,e,2,!1),r.add(n))}function ko(e,t,r){var n=0;t&&(n|=4),eh(r,e,n,t)}var $s="_reactListening"+Math.random().toString(36).slice(2);function ss(e){if(!e[$s]){e[$s]=!0,ad.forEach(function(r){r!=="selectionchange"&&(Gm.has(r)||ko(r,!1,e),ko(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$s]||(t[$s]=!0,ko("selectionchange",!1,t))}}function eh(e,t,r,n){switch(Ud(t)){case 1:var s=lm;break;case 4:s=um;break;default:s=ul}r=s.bind(null,t,r,e),s=void 0,!ra||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function So(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=yr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Sd(function(){var c=i,h=il(r),f=[];e:{var d=Xd.get(e);if(d!==void 0){var g=dl,y=e;switch(e){case"keypress":if(Ys(r)===0)break e;case"keydown":case"keyup":g=jm;break;case"focusin":y="focus",g=go;break;case"focusout":y="blur",g=go;break;case"beforeblur":case"afterblur":g=go;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Nm;break;case Gd:case Qd:case Jd:g=mm;break;case Yd:g=Pm;break;case"scroll":g=cm;break;case"wheel":g=Om;break;case"copy":case"cut":case"paste":g=vm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Eu}var x=(t&4)!==0,w=!x&&e==="scroll",p=x?d!==null?d+"Capture":null:d;x=[];for(var m=c,v;m!==null;){v=m;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,p!==null&&(_=Xn(m,p),_!=null&&x.push(is(m,_,v)))),w)break;m=m.return}0<x.length&&(d=new g(d,y,null,r,h),f.push({event:d,listeners:x}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&r!==ea&&(y=r.relatedTarget||r.fromElement)&&(yr(y)||y[Pt]))break e;if((g||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=c,y=y?yr(y):null,y!==null&&(w=Pr(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(x=ju,_="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=Eu,_="onPointerLeave",p="onPointerEnter",m="pointer"),w=g==null?d:Qr(g),v=y==null?d:Qr(y),d=new x(_,m+"leave",g,r,h),d.target=w,d.relatedTarget=v,_=null,yr(h)===c&&(x=new x(p,m+"enter",y,r,h),x.target=v,x.relatedTarget=w,_=x),w=_,g&&y)t:{for(x=g,p=y,m=0,v=x;v;v=Ar(v))m++;for(v=0,_=p;_;_=Ar(_))v++;for(;0<m-v;)x=Ar(x),m--;for(;0<v-m;)p=Ar(p),v--;for(;m--;){if(x===p||p!==null&&x===p.alternate)break t;x=Ar(x),p=Ar(p)}x=null}else x=null;g!==null&&Uu(f,d,g,x,!1),y!==null&&w!==null&&Uu(f,w,y,x,!0)}}e:{if(d=c?Qr(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var j=Dm;else if(Pu(d))if(Wd)j=Bm;else{j=Mm;var N=zm}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(j=Fm);if(j&&(j=j(e,c))){Bd(f,j,r,h);break e}N&&N(e,d,c),e==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&Qo(d,"number",d.value)}switch(N=c?Qr(c):window,e){case"focusin":(Pu(N)||N.contentEditable==="true")&&(Kr=N,aa=c,Wn=null);break;case"focusout":Wn=aa=Kr=null;break;case"mousedown":la=!0;break;case"contextmenu":case"mouseup":case"dragend":la=!1,Lu(f,r,h);break;case"selectionchange":if(Vm)break;case"keydown":case"keyup":Lu(f,r,h)}var C;if(fl)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else qr?Md(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(zd&&r.locale!=="ko"&&(qr||S!=="onCompositionStart"?S==="onCompositionEnd"&&qr&&(C=Dd()):(Ht=h,cl="value"in Ht?Ht.value:Ht.textContent,qr=!0)),N=hi(c,S),0<N.length&&(S=new bu(S,e,null,r,h),f.push({event:S,listeners:N}),C?S.data=C:(C=Fd(r),C!==null&&(S.data=C)))),(C=Im?Lm(e,r):$m(e,r))&&(c=hi(c,"onBeforeInput"),0<c.length&&(h=new bu("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:c}),h.data=C))}Zd(f,t)})}function is(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xn(e,r),i!=null&&n.unshift(is(e,i,s)),i=Xn(e,t),i!=null&&n.push(is(e,i,s))),e=e.return}return n}function Ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uu(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Xn(r,i),l!=null&&o.unshift(is(r,l,a))):s||(l=Xn(r,i),l!=null&&o.push(is(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Qm=/\r\n?/g,Jm=/\u0000|\uFFFD/g;function Du(e){return(typeof e=="string"?e:""+e).replace(Qm,`
`).replace(Jm,"")}function As(e,t,r){if(t=Du(t),Du(e)!==t&&r)throw Error(E(425))}function fi(){}var ua=null,ca=null;function da(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ha=typeof setTimeout=="function"?setTimeout:void 0,Ym=typeof clearTimeout=="function"?clearTimeout:void 0,zu=typeof Promise=="function"?Promise:void 0,Xm=typeof queueMicrotask=="function"?queueMicrotask:typeof zu<"u"?function(e){return zu.resolve(null).then(e).catch(Zm)}:ha;function Zm(e){setTimeout(function(){throw e})}function jo(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ts(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ts(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wn=Math.random().toString(36).slice(2),yt="__reactFiber$"+wn,os="__reactProps$"+wn,Pt="__reactContainer$"+wn,fa="__reactEvents$"+wn,e0="__reactListeners$"+wn,t0="__reactHandles$"+wn;function yr(e){var t=e[yt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pt]||r[yt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Mu(e);e!==null;){if(r=e[yt])return r;e=Mu(e)}return t}e=r,r=e.parentNode}return null}function ws(e){return e=e[yt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function zi(e){return e[os]||null}var pa=[],Jr=-1;function ir(e){return{current:e}}function Z(e){0>Jr||(e.current=pa[Jr],pa[Jr]=null,Jr--)}function J(e,t){Jr++,pa[Jr]=e.current,e.current=t}var nr={},Ee=ir(nr),Ue=ir(!1),Sr=nr;function cn(e,t){var r=e.type.contextTypes;if(!r)return nr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function De(e){return e=e.childContextTypes,e!=null}function pi(){Z(Ue),Z(Ee)}function Fu(e,t,r){if(Ee.current!==nr)throw Error(E(168));J(Ee,t),J(Ue,r)}function th(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,zp(e)||"Unknown",s));return ie({},r,n)}function mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,Sr=Ee.current,J(Ee,e),J(Ue,Ue.current),!0}function Bu(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=th(e,t,Sr),n.__reactInternalMemoizedMergedChildContext=e,Z(Ue),Z(Ee),J(Ee,e)):Z(Ue),J(Ue,r)}var jt=null,Mi=!1,bo=!1;function rh(e){jt===null?jt=[e]:jt.push(e)}function r0(e){Mi=!0,rh(e)}function or(){if(!bo&&jt!==null){bo=!0;var e=0,t=K;try{var r=jt;for(K=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}jt=null,Mi=!1}catch(s){throw jt!==null&&(jt=jt.slice(e+1)),Nd(ol,or),s}finally{K=t,bo=!1}}return null}var Yr=[],Xr=0,gi=null,vi=0,Je=[],Ye=0,jr=null,bt=1,Et="";function fr(e,t){Yr[Xr++]=vi,Yr[Xr++]=gi,gi=e,vi=t}function nh(e,t,r){Je[Ye++]=bt,Je[Ye++]=Et,Je[Ye++]=jr,jr=e;var n=bt;e=Et;var s=32-ct(n)-1;n&=~(1<<s),r+=1;var i=32-ct(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,bt=1<<32-ct(t)+s|r<<s|n,Et=i+e}else bt=1<<i|r<<s|n,Et=e}function ml(e){e.return!==null&&(fr(e,1),nh(e,1,0))}function gl(e){for(;e===gi;)gi=Yr[--Xr],Yr[Xr]=null,vi=Yr[--Xr],Yr[Xr]=null;for(;e===jr;)jr=Je[--Ye],Je[Ye]=null,Et=Je[--Ye],Je[Ye]=null,bt=Je[--Ye],Je[Ye]=null}var He=null,We=null,te=!1,ut=null;function sh(e,t){var r=Xe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Wu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,He=e,We=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,He=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=jr!==null?{id:bt,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,He=e,We=null,!0):!1;default:return!1}}function ma(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ga(e){if(te){var t=We;if(t){var r=t;if(!Wu(e,t)){if(ma(e))throw Error(E(418));t=Jt(r.nextSibling);var n=He;t&&Wu(e,t)?sh(n,r):(e.flags=e.flags&-4097|2,te=!1,He=e)}}else{if(ma(e))throw Error(E(418));e.flags=e.flags&-4097|2,te=!1,He=e}}}function Hu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;He=e}function Us(e){if(e!==He)return!1;if(!te)return Hu(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!da(e.type,e.memoizedProps)),t&&(t=We)){if(ma(e))throw ih(),Error(E(418));for(;t;)sh(e,t),t=Jt(t.nextSibling)}if(Hu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){We=Jt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}We=null}}else We=He?Jt(e.stateNode.nextSibling):null;return!0}function ih(){for(var e=We;e;)e=Jt(e.nextSibling)}function dn(){We=He=null,te=!1}function vl(e){ut===null?ut=[e]:ut.push(e)}var n0=Rt.ReactCurrentBatchConfig;function Tn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function Ds(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vu(e){var t=e._init;return t(e._payload)}function oh(e){function t(p,m){if(e){var v=p.deletions;v===null?(p.deletions=[m],p.flags|=16):v.push(m)}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=er(p,m),p.index=0,p.sibling=null,p}function i(p,m,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<m?(p.flags|=2,m):v):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,m,v,_){return m===null||m.tag!==6?(m=Ro(v,p.mode,_),m.return=p,m):(m=s(m,v),m.return=p,m)}function l(p,m,v,_){var j=v.type;return j===Vr?h(p,m,v.props.children,_,v.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Dt&&Vu(j)===m.type)?(_=s(m,v.props),_.ref=Tn(p,m,v),_.return=p,_):(_=si(v.type,v.key,v.props,null,p.mode,_),_.ref=Tn(p,m,v),_.return=p,_)}function c(p,m,v,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Io(v,p.mode,_),m.return=p,m):(m=s(m,v.children||[]),m.return=p,m)}function h(p,m,v,_,j){return m===null||m.tag!==7?(m=kr(v,p.mode,_,j),m.return=p,m):(m=s(m,v),m.return=p,m)}function f(p,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ro(""+m,p.mode,v),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ns:return v=si(m.type,m.key,m.props,null,p.mode,v),v.ref=Tn(p,null,m),v.return=p,v;case Hr:return m=Io(m,p.mode,v),m.return=p,m;case Dt:var _=m._init;return f(p,_(m._payload),v)}if($n(m)||bn(m))return m=kr(m,p.mode,v,null),m.return=p,m;Ds(p,m)}return null}function d(p,m,v,_){var j=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:a(p,m,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ns:return v.key===j?l(p,m,v,_):null;case Hr:return v.key===j?c(p,m,v,_):null;case Dt:return j=v._init,d(p,m,j(v._payload),_)}if($n(v)||bn(v))return j!==null?null:h(p,m,v,_,null);Ds(p,v)}return null}function g(p,m,v,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(v)||null,a(m,p,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ns:return p=p.get(_.key===null?v:_.key)||null,l(m,p,_,j);case Hr:return p=p.get(_.key===null?v:_.key)||null,c(m,p,_,j);case Dt:var N=_._init;return g(p,m,v,N(_._payload),j)}if($n(_)||bn(_))return p=p.get(v)||null,h(m,p,_,j,null);Ds(m,_)}return null}function y(p,m,v,_){for(var j=null,N=null,C=m,S=m=0,A=null;C!==null&&S<v.length;S++){C.index>S?(A=C,C=null):A=C.sibling;var I=d(p,C,v[S],_);if(I===null){C===null&&(C=A);break}e&&C&&I.alternate===null&&t(p,C),m=i(I,m,S),N===null?j=I:N.sibling=I,N=I,C=A}if(S===v.length)return r(p,C),te&&fr(p,S),j;if(C===null){for(;S<v.length;S++)C=f(p,v[S],_),C!==null&&(m=i(C,m,S),N===null?j=C:N.sibling=C,N=C);return te&&fr(p,S),j}for(C=n(p,C);S<v.length;S++)A=g(C,p,S,v[S],_),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?S:A.key),m=i(A,m,S),N===null?j=A:N.sibling=A,N=A);return e&&C.forEach(function(M){return t(p,M)}),te&&fr(p,S),j}function x(p,m,v,_){var j=bn(v);if(typeof j!="function")throw Error(E(150));if(v=j.call(v),v==null)throw Error(E(151));for(var N=j=null,C=m,S=m=0,A=null,I=v.next();C!==null&&!I.done;S++,I=v.next()){C.index>S?(A=C,C=null):A=C.sibling;var M=d(p,C,I.value,_);if(M===null){C===null&&(C=A);break}e&&C&&M.alternate===null&&t(p,C),m=i(M,m,S),N===null?j=M:N.sibling=M,N=M,C=A}if(I.done)return r(p,C),te&&fr(p,S),j;if(C===null){for(;!I.done;S++,I=v.next())I=f(p,I.value,_),I!==null&&(m=i(I,m,S),N===null?j=I:N.sibling=I,N=I);return te&&fr(p,S),j}for(C=n(p,C);!I.done;S++,I=v.next())I=g(C,p,S,I.value,_),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?S:I.key),m=i(I,m,S),N===null?j=I:N.sibling=I,N=I);return e&&C.forEach(function(ee){return t(p,ee)}),te&&fr(p,S),j}function w(p,m,v,_){if(typeof v=="object"&&v!==null&&v.type===Vr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ns:e:{for(var j=v.key,N=m;N!==null;){if(N.key===j){if(j=v.type,j===Vr){if(N.tag===7){r(p,N.sibling),m=s(N,v.props.children),m.return=p,p=m;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Dt&&Vu(j)===N.type){r(p,N.sibling),m=s(N,v.props),m.ref=Tn(p,N,v),m.return=p,p=m;break e}r(p,N);break}else t(p,N);N=N.sibling}v.type===Vr?(m=kr(v.props.children,p.mode,_,v.key),m.return=p,p=m):(_=si(v.type,v.key,v.props,null,p.mode,_),_.ref=Tn(p,m,v),_.return=p,p=_)}return o(p);case Hr:e:{for(N=v.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){r(p,m.sibling),m=s(m,v.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=Io(v,p.mode,_),m.return=p,p=m}return o(p);case Dt:return N=v._init,w(p,m,N(v._payload),_)}if($n(v))return y(p,m,v,_);if(bn(v))return x(p,m,v,_);Ds(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(r(p,m.sibling),m=s(m,v),m.return=p,p=m):(r(p,m),m=Ro(v,p.mode,_),m.return=p,p=m),o(p)):r(p,m)}return w}var hn=oh(!0),ah=oh(!1),yi=ir(null),wi=null,Zr=null,yl=null;function wl(){yl=Zr=wi=null}function xl(e){var t=yi.current;Z(yi),e._currentValue=t}function va(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function an(e,t){wi=e,yl=Zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ae=!0),e.firstContext=null)}function tt(e){var t=e._currentValue;if(yl!==e)if(e={context:e,memoizedValue:t,next:null},Zr===null){if(wi===null)throw Error(E(308));Zr=e,wi.dependencies={lanes:0,firstContext:e}}else Zr=Zr.next=e;return t}var wr=null;function _l(e){wr===null?wr=[e]:wr.push(e)}function lh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,_l(t)):(r.next=s.next,s.next=r),t.interleaved=r,Tt(e,n)}function Tt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zt=!1;function kl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,W&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Tt(e,r)}return s=n.interleaved,s===null?(t.next=t,_l(n)):(t.next=s.next,s.next=t),n.interleaved=t,Tt(e,r)}function Xs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,al(e,r)}}function qu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xi(e,t,r,n){var s=e.updateQueue;zt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=c=l=null,a=i;do{var d=a.lane,g=a.eventTime;if((n&d)===d){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,x=a;switch(d=t,g=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(g,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,d=typeof y=="function"?y.call(g,f,d):y,d==null)break e;f=ie({},f,d);break e;case 2:zt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=f):h=h.next=g,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Er|=o,e.lanes=o,e.memoizedState=f}}function Ku(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var xs={},xt=ir(xs),as=ir(xs),ls=ir(xs);function xr(e){if(e===xs)throw Error(E(174));return e}function Sl(e,t){switch(J(ls,t),J(as,e),J(xt,xs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yo(t,e)}Z(xt),J(xt,t)}function fn(){Z(xt),Z(as),Z(ls)}function ch(e){xr(ls.current);var t=xr(xt.current),r=Yo(t,e.type);t!==r&&(J(as,e),J(xt,r))}function jl(e){as.current===e&&(Z(xt),Z(as))}var ne=ir(0);function _i(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Eo=[];function bl(){for(var e=0;e<Eo.length;e++)Eo[e]._workInProgressVersionPrimary=null;Eo.length=0}var Zs=Rt.ReactCurrentDispatcher,No=Rt.ReactCurrentBatchConfig,br=0,se=null,de=null,pe=null,ki=!1,Hn=!1,us=0,s0=0;function ke(){throw Error(E(321))}function El(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ht(e[r],t[r]))return!1;return!0}function Nl(e,t,r,n,s,i){if(br=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zs.current=e===null||e.memoizedState===null?l0:u0,e=r(n,s),Hn){i=0;do{if(Hn=!1,us=0,25<=i)throw Error(E(301));i+=1,pe=de=null,t.updateQueue=null,Zs.current=c0,e=r(n,s)}while(Hn)}if(Zs.current=Si,t=de!==null&&de.next!==null,br=0,pe=de=se=null,ki=!1,t)throw Error(E(300));return e}function Cl(){var e=us!==0;return us=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?se.memoizedState=pe=e:pe=pe.next=e,pe}function rt(){if(de===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=pe===null?se.memoizedState:pe.next;if(t!==null)pe=t,de=e;else{if(e===null)throw Error(E(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},pe===null?se.memoizedState=pe=e:pe=pe.next=e}return pe}function cs(e,t){return typeof t=="function"?t(e):t}function Co(e){var t=rt(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=de,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((br&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,se.lanes|=h,Er|=h}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,ht(n,t.memoizedState)||(Ae=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,se.lanes|=i,Er|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Po(e){var t=rt(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ht(i,t.memoizedState)||(Ae=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function dh(){}function hh(e,t){var r=se,n=rt(),s=t(),i=!ht(n.memoizedState,s);if(i&&(n.memoizedState=s,Ae=!0),n=n.queue,Pl(mh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||pe!==null&&pe.memoizedState.tag&1){if(r.flags|=2048,ds(9,ph.bind(null,r,n,s,t),void 0,null),me===null)throw Error(E(349));br&30||fh(r,t,s)}return s}function fh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ph(e,t,r,n){t.value=r,t.getSnapshot=n,gh(t)&&vh(e)}function mh(e,t,r){return r(function(){gh(t)&&vh(e)})}function gh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ht(e,r)}catch{return!0}}function vh(e){var t=Tt(e,1);t!==null&&dt(t,e,1,-1)}function Gu(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e},t.queue=e,e=e.dispatch=a0.bind(null,se,e),[t.memoizedState,e]}function ds(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function yh(){return rt().memoizedState}function ei(e,t,r,n){var s=vt();se.flags|=e,s.memoizedState=ds(1|t,r,void 0,n===void 0?null:n)}function Fi(e,t,r,n){var s=rt();n=n===void 0?null:n;var i=void 0;if(de!==null){var o=de.memoizedState;if(i=o.destroy,n!==null&&El(n,o.deps)){s.memoizedState=ds(t,r,i,n);return}}se.flags|=e,s.memoizedState=ds(1|t,r,i,n)}function Qu(e,t){return ei(8390656,8,e,t)}function Pl(e,t){return Fi(2048,8,e,t)}function wh(e,t){return Fi(4,2,e,t)}function xh(e,t){return Fi(4,4,e,t)}function _h(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kh(e,t,r){return r=r!=null?r.concat([e]):null,Fi(4,4,_h.bind(null,t,e),r)}function Tl(){}function Sh(e,t){var r=rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&El(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function jh(e,t){var r=rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&El(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bh(e,t,r){return br&21?(ht(r,t)||(r=Td(),se.lanes|=r,Er|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ae=!0),e.memoizedState=r)}function i0(e,t){var r=K;K=r!==0&&4>r?r:4,e(!0);var n=No.transition;No.transition={};try{e(!1),t()}finally{K=r,No.transition=n}}function Eh(){return rt().memoizedState}function o0(e,t,r){var n=Zt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Nh(e))Ch(t,r);else if(r=lh(e,t,r,n),r!==null){var s=Pe();dt(r,e,n,s),Ph(r,t,n)}}function a0(e,t,r){var n=Zt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Nh(e))Ch(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,ht(a,o)){var l=t.interleaved;l===null?(s.next=s,_l(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=lh(e,t,s,n),r!==null&&(s=Pe(),dt(r,e,n,s),Ph(r,t,n))}}function Nh(e){var t=e.alternate;return e===se||t!==null&&t===se}function Ch(e,t){Hn=ki=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ph(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,al(e,r)}}var Si={readContext:tt,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},l0={readContext:tt,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:Qu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ei(4194308,4,_h.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return ei(4,2,e,t)},useMemo:function(e,t){var r=vt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=o0.bind(null,se,e),[n.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:Gu,useDebugValue:Tl,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=Gu(!1),t=e[0];return e=i0.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=se,s=vt();if(te){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),me===null)throw Error(E(349));br&30||fh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Qu(mh.bind(null,n,i,e),[e]),n.flags|=2048,ds(9,ph.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=vt(),t=me.identifierPrefix;if(te){var r=Et,n=bt;r=(n&~(1<<32-ct(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=us++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=s0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},u0={readContext:tt,useCallback:Sh,useContext:tt,useEffect:Pl,useImperativeHandle:kh,useInsertionEffect:wh,useLayoutEffect:xh,useMemo:jh,useReducer:Co,useRef:yh,useState:function(){return Co(cs)},useDebugValue:Tl,useDeferredValue:function(e){var t=rt();return bh(t,de.memoizedState,e)},useTransition:function(){var e=Co(cs)[0],t=rt().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:hh,useId:Eh,unstable_isNewReconciler:!1},c0={readContext:tt,useCallback:Sh,useContext:tt,useEffect:Pl,useImperativeHandle:kh,useInsertionEffect:wh,useLayoutEffect:xh,useMemo:jh,useReducer:Po,useRef:yh,useState:function(){return Po(cs)},useDebugValue:Tl,useDeferredValue:function(e){var t=rt();return de===null?t.memoizedState=e:bh(t,de.memoizedState,e)},useTransition:function(){var e=Po(cs)[0],t=rt().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:hh,useId:Eh,unstable_isNewReconciler:!1};function ot(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ya(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bi={isMounted:function(e){return(e=e._reactInternals)?Pr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pe(),s=Zt(e),i=Nt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Yt(e,i,s),t!==null&&(dt(t,e,s,n),Xs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pe(),s=Zt(e),i=Nt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Yt(e,i,s),t!==null&&(dt(t,e,s,n),Xs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pe(),n=Zt(e),s=Nt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Yt(e,s,n),t!==null&&(dt(t,e,n,r),Xs(t,e,n))}};function Ju(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ns(r,n)||!ns(s,i):!0}function Th(e,t,r){var n=!1,s=nr,i=t.contextType;return typeof i=="object"&&i!==null?i=tt(i):(s=De(t)?Sr:Ee.current,n=t.contextTypes,i=(n=n!=null)?cn(e,s):nr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Yu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bi.enqueueReplaceState(t,t.state,null)}function wa(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},kl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=tt(i):(i=De(t)?Sr:Ee.current,s.context=cn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ya(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Bi.enqueueReplaceState(s,s.state,null),xi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pn(e,t){try{var r="",n=t;do r+=Dp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function To(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xa(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var d0=typeof WeakMap=="function"?WeakMap:Map;function Oh(e,t,r){r=Nt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){bi||(bi=!0,Ta=n),xa(e,t)},r}function Rh(e,t,r){r=Nt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){xa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){xa(e,t),typeof n!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Xu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new d0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=b0.bind(null,e,t,r),t.then(e,e))}function Zu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ec(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Nt(-1,1),t.tag=2,Yt(r,t,1))),r.lanes|=1),e)}var h0=Rt.ReactCurrentOwner,Ae=!1;function Ce(e,t,r,n){t.child=e===null?ah(t,null,r,n):hn(t,e.child,r,n)}function tc(e,t,r,n,s){r=r.render;var i=t.ref;return an(t,s),n=Nl(e,t,r,n,i,s),r=Cl(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(te&&r&&ml(t),t.flags|=1,Ce(e,t,n,s),t.child)}function rc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Dl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Ih(e,t,i,n,s)):(e=si(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ns,r(o,n)&&e.ref===t.ref)return Ot(e,t,s)}return t.flags|=1,e=er(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ih(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ns(i,n)&&e.ref===t.ref)if(Ae=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ae=!0);else return t.lanes=e.lanes,Ot(e,t,s)}return _a(e,t,r,n,s)}function Lh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(tn,Be),Be|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(tn,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,J(tn,Be),Be|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,J(tn,Be),Be|=n;return Ce(e,t,s,r),t.child}function $h(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _a(e,t,r,n,s){var i=De(r)?Sr:Ee.current;return i=cn(t,i),an(t,s),r=Nl(e,t,r,n,i,s),n=Cl(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(te&&n&&ml(t),t.flags|=1,Ce(e,t,r,s),t.child)}function nc(e,t,r,n,s){if(De(r)){var i=!0;mi(t)}else i=!1;if(an(t,s),t.stateNode===null)ti(e,t),Th(t,r,n),wa(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=tt(c):(c=De(r)?Sr:Ee.current,c=cn(t,c));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Yu(t,o,n,c),zt=!1;var d=t.memoizedState;o.state=d,xi(t,n,o,s),l=t.memoizedState,a!==n||d!==l||Ue.current||zt?(typeof h=="function"&&(ya(t,r,h,n),l=t.memoizedState),(a=zt||Ju(t,r,a,n,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,uh(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ot(t.type,a),o.props=c,f=t.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=tt(l):(l=De(r)?Sr:Ee.current,l=cn(t,l));var g=r.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Yu(t,o,n,l),zt=!1,d=t.memoizedState,o.state=d,xi(t,n,o,s);var y=t.memoizedState;a!==f||d!==y||Ue.current||zt?(typeof g=="function"&&(ya(t,r,g,n),y=t.memoizedState),(c=zt||Ju(t,r,c,n,d,y,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return ka(e,t,r,n,i,s)}function ka(e,t,r,n,s,i){$h(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Bu(t,r,!1),Ot(e,t,i);n=t.stateNode,h0.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=hn(t,e.child,null,i),t.child=hn(t,null,a,i)):Ce(e,t,a,i),t.memoizedState=n.state,s&&Bu(t,r,!0),t.child}function Ah(e){var t=e.stateNode;t.pendingContext?Fu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fu(e,t.context,!1),Sl(e,t.containerInfo)}function sc(e,t,r,n,s){return dn(),vl(s),t.flags|=256,Ce(e,t,r,n),t.child}var Sa={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uh(e,t,r){var n=t.pendingProps,s=ne.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),J(ne,s&1),e===null)return ga(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vi(o,n,0,null),e=kr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ja(r),t.memoizedState=Sa,e):Ol(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return f0(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=er(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=er(a,i):(i=kr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ja(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Sa,n}return i=e.child,e=i.sibling,n=er(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ol(e,t){return t=Vi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zs(e,t,r,n){return n!==null&&vl(n),hn(t,e.child,null,r),e=Ol(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function f0(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=To(Error(E(422))),zs(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Vi({mode:"visible",children:n.children},s,0,null),i=kr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&hn(t,e.child,null,o),t.child.memoizedState=ja(o),t.memoizedState=Sa,i);if(!(t.mode&1))return zs(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(E(419)),n=To(i,n,void 0),zs(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ae||a){if(n=me,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Tt(e,s),dt(n,e,s,-1))}return Ul(),n=To(Error(E(421))),zs(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=E0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,We=Jt(s.nextSibling),He=t,te=!0,ut=null,e!==null&&(Je[Ye++]=bt,Je[Ye++]=Et,Je[Ye++]=jr,bt=e.id,Et=e.overflow,jr=t),t=Ol(t,n.children),t.flags|=4096,t)}function ic(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),va(e.return,t,r)}function Oo(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Dh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ce(e,t,n.children,r),n=ne.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ic(e,r,t);else if(e.tag===19)ic(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(J(ne,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&_i(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Oo(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&_i(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Oo(t,!0,r,null,i);break;case"together":Oo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ti(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Er|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=er(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=er(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function p0(e,t,r){switch(t.tag){case 3:Ah(t),dn();break;case 5:ch(t);break;case 1:De(t.type)&&mi(t);break;case 4:Sl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;J(yi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(J(ne,ne.current&1),t.flags|=128,null):r&t.child.childLanes?Uh(e,t,r):(J(ne,ne.current&1),e=Ot(e,t,r),e!==null?e.sibling:null);J(ne,ne.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Dh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),J(ne,ne.current),n)break;return null;case 22:case 23:return t.lanes=0,Lh(e,t,r)}return Ot(e,t,r)}var zh,ba,Mh,Fh;zh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ba=function(){};Mh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,xr(xt.current);var i=null;switch(r){case"input":s=Ko(e,s),n=Ko(e,n),i=[];break;case"select":s=ie({},s,{value:void 0}),n=ie({},n,{value:void 0}),i=[];break;case"textarea":s=Jo(e,s),n=Jo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fi)}Xo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Jn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Jn.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&X("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Fh=function(e,t,r,n){r!==n&&(t.flags|=4)};function On(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function m0(e,t,r){var n=t.pendingProps;switch(gl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return De(t.type)&&pi(),Se(t),null;case 3:return n=t.stateNode,fn(),Z(Ue),Z(Ee),bl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Us(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ut!==null&&(Ia(ut),ut=null))),ba(e,t),Se(t),null;case 5:jl(t);var s=xr(ls.current);if(r=t.type,e!==null&&t.stateNode!=null)Mh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return Se(t),null}if(e=xr(xt.current),Us(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[yt]=t,n[os]=i,e=(t.mode&1)!==0,r){case"dialog":X("cancel",n),X("close",n);break;case"iframe":case"object":case"embed":X("load",n);break;case"video":case"audio":for(s=0;s<Un.length;s++)X(Un[s],n);break;case"source":X("error",n);break;case"img":case"image":case"link":X("error",n),X("load",n);break;case"details":X("toggle",n);break;case"input":pu(n,i),X("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},X("invalid",n);break;case"textarea":gu(n,i),X("invalid",n)}Xo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&As(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&As(n.textContent,a,e),s=["children",""+a]):Jn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&X("scroll",n)}switch(r){case"input":Cs(n),mu(n,i,!0);break;case"textarea":Cs(n),vu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=fi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=md(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[yt]=t,e[os]=n,zh(e,t,!1,!1),t.stateNode=e;e:{switch(o=Zo(r,n),r){case"dialog":X("cancel",e),X("close",e),s=n;break;case"iframe":case"object":case"embed":X("load",e),s=n;break;case"video":case"audio":for(s=0;s<Un.length;s++)X(Un[s],e);s=n;break;case"source":X("error",e),s=n;break;case"img":case"image":case"link":X("error",e),X("load",e),s=n;break;case"details":X("toggle",e),s=n;break;case"input":pu(e,n),s=Ko(e,n),X("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ie({},n,{value:void 0}),X("invalid",e);break;case"textarea":gu(e,n),s=Jo(e,n),X("invalid",e);break;default:s=n}Xo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?yd(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gd(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Yn(e,l):typeof l=="number"&&Yn(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&X("scroll",e):l!=null&&tl(e,i,l,o))}switch(r){case"input":Cs(e),mu(e,n,!1);break;case"textarea":Cs(e),vu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+rr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?rn(e,!!n.multiple,i,!1):n.defaultValue!=null&&rn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=fi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)Fh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=xr(ls.current),xr(xt.current),Us(t)){if(n=t.stateNode,r=t.memoizedProps,n[yt]=t,(i=n.nodeValue!==r)&&(e=He,e!==null))switch(e.tag){case 3:As(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&As(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[yt]=t,t.stateNode=n}return Se(t),null;case 13:if(Z(ne),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&We!==null&&t.mode&1&&!(t.flags&128))ih(),dn(),t.flags|=98560,i=!1;else if(i=Us(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[yt]=t}else dn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),i=!1}else ut!==null&&(Ia(ut),ut=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?he===0&&(he=3):Ul())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return fn(),ba(e,t),e===null&&ss(t.stateNode.containerInfo),Se(t),null;case 10:return xl(t.type._context),Se(t),null;case 17:return De(t.type)&&pi(),Se(t),null;case 19:if(Z(ne),i=t.memoizedState,i===null)return Se(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)On(i,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_i(e),o!==null){for(t.flags|=128,On(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return J(ne,ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&ae()>mn&&(t.flags|=128,n=!0,On(i,!1),t.lanes=4194304)}else{if(!n)if(e=_i(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),On(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!te)return Se(t),null}else 2*ae()-i.renderingStartTime>mn&&r!==1073741824&&(t.flags|=128,n=!0,On(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ae(),t.sibling=null,r=ne.current,J(ne,n?r&1|2:r&1),t):(Se(t),null);case 22:case 23:return Al(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Be&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function g0(e,t){switch(gl(t),t.tag){case 1:return De(t.type)&&pi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(),Z(Ue),Z(Ee),bl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jl(t),null;case 13:if(Z(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));dn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(ne),null;case 4:return fn(),null;case 10:return xl(t.type._context),null;case 22:case 23:return Al(),null;case 24:return null;default:return null}}var Ms=!1,be=!1,v0=typeof WeakSet=="function"?WeakSet:Set,T=null;function en(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){oe(e,t,n)}else r.current=null}function Ea(e,t,r){try{r()}catch(n){oe(e,t,n)}}var oc=!1;function y0(e,t){if(ua=ci,e=qd(),pl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===e)break t;if(d===r&&++c===s&&(a=o),d===i&&++h===n&&(l=o),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ca={focusedElem:e,selectionRange:r},ci=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:ot(t.type,x),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(_){oe(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return y=oc,oc=!1,y}function Vn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ea(t,r,i)}s=s.next}while(s!==n)}}function Wi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Na(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Bh(e){var t=e.alternate;t!==null&&(e.alternate=null,Bh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yt],delete t[os],delete t[fa],delete t[e0],delete t[t0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wh(e){return e.tag===5||e.tag===3||e.tag===4}function ac(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ca(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fi));else if(n!==4&&(e=e.child,e!==null))for(Ca(e,t,r),e=e.sibling;e!==null;)Ca(e,t,r),e=e.sibling}function Pa(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Pa(e,t,r),e=e.sibling;e!==null;)Pa(e,t,r),e=e.sibling}var ye=null,at=!1;function $t(e,t,r){for(r=r.child;r!==null;)Hh(e,t,r),r=r.sibling}function Hh(e,t,r){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount($i,r)}catch{}switch(r.tag){case 5:be||en(r,t);case 6:var n=ye,s=at;ye=null,$t(e,t,r),ye=n,at=s,ye!==null&&(at?(e=ye,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ye.removeChild(r.stateNode));break;case 18:ye!==null&&(at?(e=ye,r=r.stateNode,e.nodeType===8?jo(e.parentNode,r):e.nodeType===1&&jo(e,r),ts(e)):jo(ye,r.stateNode));break;case 4:n=ye,s=at,ye=r.stateNode.containerInfo,at=!0,$t(e,t,r),ye=n,at=s;break;case 0:case 11:case 14:case 15:if(!be&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ea(r,t,o),s=s.next}while(s!==n)}$t(e,t,r);break;case 1:if(!be&&(en(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){oe(r,t,a)}$t(e,t,r);break;case 21:$t(e,t,r);break;case 22:r.mode&1?(be=(n=be)||r.memoizedState!==null,$t(e,t,r),be=n):$t(e,t,r);break;default:$t(e,t,r)}}function lc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new v0),t.forEach(function(n){var s=N0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function st(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ye=a.stateNode,at=!1;break e;case 3:ye=a.stateNode.containerInfo,at=!0;break e;case 4:ye=a.stateNode.containerInfo,at=!0;break e}a=a.return}if(ye===null)throw Error(E(160));Hh(i,o,s),ye=null,at=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){oe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vh(t,e),t=t.sibling}function Vh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(st(t,e),gt(e),n&4){try{Vn(3,e,e.return),Wi(3,e)}catch(x){oe(e,e.return,x)}try{Vn(5,e,e.return)}catch(x){oe(e,e.return,x)}}break;case 1:st(t,e),gt(e),n&512&&r!==null&&en(r,r.return);break;case 5:if(st(t,e),gt(e),n&512&&r!==null&&en(r,r.return),e.flags&32){var s=e.stateNode;try{Yn(s,"")}catch(x){oe(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&fd(s,i),Zo(a,o);var c=Zo(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?yd(s,f):h==="dangerouslySetInnerHTML"?gd(s,f):h==="children"?Yn(s,f):tl(s,h,f,c)}switch(a){case"input":Go(s,i);break;case"textarea":pd(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?rn(s,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?rn(s,!!i.multiple,i.defaultValue,!0):rn(s,!!i.multiple,i.multiple?[]:"",!1))}s[os]=i}catch(x){oe(e,e.return,x)}}break;case 6:if(st(t,e),gt(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){oe(e,e.return,x)}}break;case 3:if(st(t,e),gt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ts(t.containerInfo)}catch(x){oe(e,e.return,x)}break;case 4:st(t,e),gt(e);break;case 13:st(t,e),gt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ll=ae())),n&4&&lc(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(be=(c=be)||h,st(t,e),be=c):st(t,e),gt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(T=e,h=e.child;h!==null;){for(f=T=h;T!==null;){switch(d=T,g=d.child,d.tag){case 0:case 11:case 14:case 15:Vn(4,d,d.return);break;case 1:en(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){n=d,r=d.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){oe(n,r,x)}}break;case 5:en(d,d.return);break;case 22:if(d.memoizedState!==null){cc(f);continue}}g!==null?(g.return=d,T=g):cc(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vd("display",o))}catch(x){oe(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){oe(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:st(t,e),gt(e),n&4&&lc(e);break;case 21:break;default:st(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Wh(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Yn(s,""),n.flags&=-33);var i=ac(e);Pa(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ac(e);Ca(e,a,o);break;default:throw Error(E(161))}}catch(l){oe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function w0(e,t,r){T=e,qh(e)}function qh(e,t,r){for(var n=(e.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ms;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||be;a=Ms;var c=be;if(Ms=o,(be=l)&&!c)for(T=s;T!==null;)o=T,l=o.child,o.tag===22&&o.memoizedState!==null?dc(s):l!==null?(l.return=o,T=l):dc(s);for(;i!==null;)T=i,qh(i),i=i.sibling;T=s,Ms=a,be=c}uc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):uc(e)}}function uc(e){for(;T!==null;){var t=T;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||Wi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!be)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ot(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ku(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ku(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ts(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}be||t.flags&512&&Na(t)}catch(d){oe(t,t.return,d)}}if(t===e){T=null;break}if(r=t.sibling,r!==null){r.return=t.return,T=r;break}T=t.return}}function cc(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var r=t.sibling;if(r!==null){r.return=t.return,T=r;break}T=t.return}}function dc(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Wi(4,t)}catch(l){oe(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){oe(t,s,l)}}var i=t.return;try{Na(t)}catch(l){oe(t,i,l)}break;case 5:var o=t.return;try{Na(t)}catch(l){oe(t,o,l)}}}catch(l){oe(t,t.return,l)}if(t===e){T=null;break}var a=t.sibling;if(a!==null){a.return=t.return,T=a;break}T=t.return}}var x0=Math.ceil,ji=Rt.ReactCurrentDispatcher,Rl=Rt.ReactCurrentOwner,Ze=Rt.ReactCurrentBatchConfig,W=0,me=null,ce=null,we=0,Be=0,tn=ir(0),he=0,hs=null,Er=0,Hi=0,Il=0,qn=null,Le=null,Ll=0,mn=1/0,kt=null,bi=!1,Ta=null,Xt=null,Fs=!1,Vt=null,Ei=0,Kn=0,Oa=null,ri=-1,ni=0;function Pe(){return W&6?ae():ri!==-1?ri:ri=ae()}function Zt(e){return e.mode&1?W&2&&we!==0?we&-we:n0.transition!==null?(ni===0&&(ni=Td()),ni):(e=K,e!==0||(e=window.event,e=e===void 0?16:Ud(e.type)),e):1}function dt(e,t,r,n){if(50<Kn)throw Kn=0,Oa=null,Error(E(185));vs(e,r,n),(!(W&2)||e!==me)&&(e===me&&(!(W&2)&&(Hi|=r),he===4&&Bt(e,we)),ze(e,n),r===1&&W===0&&!(t.mode&1)&&(mn=ae()+500,Mi&&or()))}function ze(e,t){var r=e.callbackNode;nm(e,t);var n=ui(e,e===me?we:0);if(n===0)r!==null&&xu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&xu(r),t===1)e.tag===0?r0(hc.bind(null,e)):rh(hc.bind(null,e)),Xm(function(){!(W&6)&&or()}),r=null;else{switch(Od(n)){case 1:r=ol;break;case 4:r=Cd;break;case 16:r=li;break;case 536870912:r=Pd;break;default:r=li}r=ef(r,Kh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Kh(e,t){if(ri=-1,ni=0,W&6)throw Error(E(327));var r=e.callbackNode;if(ln()&&e.callbackNode!==r)return null;var n=ui(e,e===me?we:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ni(e,n);else{t=n;var s=W;W|=2;var i=Qh();(me!==e||we!==t)&&(kt=null,mn=ae()+500,_r(e,t));do try{S0();break}catch(a){Gh(e,a)}while(!0);wl(),ji.current=i,W=s,ce!==null?t=0:(me=null,we=0,t=he)}if(t!==0){if(t===2&&(s=sa(e),s!==0&&(n=s,t=Ra(e,s))),t===1)throw r=hs,_r(e,0),Bt(e,n),ze(e,ae()),r;if(t===6)Bt(e,n);else{if(s=e.current.alternate,!(n&30)&&!_0(s)&&(t=Ni(e,n),t===2&&(i=sa(e),i!==0&&(n=i,t=Ra(e,i))),t===1))throw r=hs,_r(e,0),Bt(e,n),ze(e,ae()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:pr(e,Le,kt);break;case 3:if(Bt(e,n),(n&130023424)===n&&(t=Ll+500-ae(),10<t)){if(ui(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Pe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ha(pr.bind(null,e,Le,kt),t);break}pr(e,Le,kt);break;case 4:if(Bt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ct(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*x0(n/1960))-n,10<n){e.timeoutHandle=ha(pr.bind(null,e,Le,kt),n);break}pr(e,Le,kt);break;case 5:pr(e,Le,kt);break;default:throw Error(E(329))}}}return ze(e,ae()),e.callbackNode===r?Kh.bind(null,e):null}function Ra(e,t){var r=qn;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=Ni(e,t),e!==2&&(t=Le,Le=r,t!==null&&Ia(t)),e}function Ia(e){Le===null?Le=e:Le.push.apply(Le,e)}function _0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ht(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bt(e,t){for(t&=~Il,t&=~Hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ct(t),n=1<<r;e[r]=-1,t&=~n}}function hc(e){if(W&6)throw Error(E(327));ln();var t=ui(e,0);if(!(t&1))return ze(e,ae()),null;var r=Ni(e,t);if(e.tag!==0&&r===2){var n=sa(e);n!==0&&(t=n,r=Ra(e,n))}if(r===1)throw r=hs,_r(e,0),Bt(e,t),ze(e,ae()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pr(e,Le,kt),ze(e,ae()),null}function $l(e,t){var r=W;W|=1;try{return e(t)}finally{W=r,W===0&&(mn=ae()+500,Mi&&or())}}function Nr(e){Vt!==null&&Vt.tag===0&&!(W&6)&&ln();var t=W;W|=1;var r=Ze.transition,n=K;try{if(Ze.transition=null,K=1,e)return e()}finally{K=n,Ze.transition=r,W=t,!(W&6)&&or()}}function Al(){Be=tn.current,Z(tn)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Ym(r)),ce!==null)for(r=ce.return;r!==null;){var n=r;switch(gl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pi();break;case 3:fn(),Z(Ue),Z(Ee),bl();break;case 5:jl(n);break;case 4:fn();break;case 13:Z(ne);break;case 19:Z(ne);break;case 10:xl(n.type._context);break;case 22:case 23:Al()}r=r.return}if(me=e,ce=e=er(e.current,null),we=Be=t,he=0,hs=null,Il=Hi=Er=0,Le=qn=null,wr!==null){for(t=0;t<wr.length;t++)if(r=wr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}wr=null}return e}function Gh(e,t){do{var r=ce;try{if(wl(),Zs.current=Si,ki){for(var n=se.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ki=!1}if(br=0,pe=de=se=null,Hn=!1,us=0,Rl.current=null,r===null||r.return===null){he=1,hs=t,ce=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=we,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Zu(o);if(g!==null){g.flags&=-257,ec(g,o,a,i,t),g.mode&1&&Xu(i,c,t),t=g,l=c;var y=t.updateQueue;if(y===null){var x=new Set;x.add(l),t.updateQueue=x}else y.add(l);break e}else{if(!(t&1)){Xu(i,c,t),Ul();break e}l=Error(E(426))}}else if(te&&a.mode&1){var w=Zu(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ec(w,o,a,i,t),vl(pn(l,a));break e}}i=l=pn(l,a),he!==4&&(he=2),qn===null?qn=[i]:qn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Oh(i,l,t);qu(i,p);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Xt===null||!Xt.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Rh(i,a,t);qu(i,_);break e}}i=i.return}while(i!==null)}Yh(r)}catch(j){t=j,ce===r&&r!==null&&(ce=r=r.return);continue}break}while(!0)}function Qh(){var e=ji.current;return ji.current=Si,e===null?Si:e}function Ul(){(he===0||he===3||he===2)&&(he=4),me===null||!(Er&268435455)&&!(Hi&268435455)||Bt(me,we)}function Ni(e,t){var r=W;W|=2;var n=Qh();(me!==e||we!==t)&&(kt=null,_r(e,t));do try{k0();break}catch(s){Gh(e,s)}while(!0);if(wl(),W=r,ji.current=n,ce!==null)throw Error(E(261));return me=null,we=0,he}function k0(){for(;ce!==null;)Jh(ce)}function S0(){for(;ce!==null&&!Gp();)Jh(ce)}function Jh(e){var t=Zh(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?Yh(e):ce=t,Rl.current=null}function Yh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=g0(r,t),r!==null){r.flags&=32767,ce=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,ce=null;return}}else if(r=m0(r,t,Be),r!==null){ce=r;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);he===0&&(he=5)}function pr(e,t,r){var n=K,s=Ze.transition;try{Ze.transition=null,K=1,j0(e,t,r,n)}finally{Ze.transition=s,K=n}return null}function j0(e,t,r,n){do ln();while(Vt!==null);if(W&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(sm(e,i),e===me&&(ce=me=null,we=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Fs||(Fs=!0,ef(li,function(){return ln(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ze.transition,Ze.transition=null;var o=K;K=1;var a=W;W|=4,Rl.current=null,y0(e,r),Vh(r,e),Hm(ca),ci=!!ua,ca=ua=null,e.current=r,w0(r),Qp(),W=a,K=o,Ze.transition=i}else e.current=r;if(Fs&&(Fs=!1,Vt=e,Ei=s),i=e.pendingLanes,i===0&&(Xt=null),Xp(r.stateNode),ze(e,ae()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(bi)throw bi=!1,e=Ta,Ta=null,e;return Ei&1&&e.tag!==0&&ln(),i=e.pendingLanes,i&1?e===Oa?Kn++:(Kn=0,Oa=e):Kn=0,or(),null}function ln(){if(Vt!==null){var e=Od(Ei),t=Ze.transition,r=K;try{if(Ze.transition=null,K=16>e?16:e,Vt===null)var n=!1;else{if(e=Vt,Vt=null,Ei=0,W&6)throw Error(E(331));var s=W;for(W|=4,T=e.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(T=c;T!==null;){var h=T;switch(h.tag){case 0:case 11:case 15:Vn(8,h,i)}var f=h.child;if(f!==null)f.return=h,T=f;else for(;T!==null;){h=T;var d=h.sibling,g=h.return;if(Bh(h),h===c){T=null;break}if(d!==null){d.return=g,T=d;break}T=g}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vn(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,T=p;break e}T=i.return}}var m=e.current;for(T=m;T!==null;){o=T;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,T=v;else e:for(o=m;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wi(9,a)}}catch(j){oe(a,a.return,j)}if(a===o){T=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,T=_;break e}T=a.return}}if(W=s,or(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot($i,e)}catch{}n=!0}return n}finally{K=r,Ze.transition=t}}return!1}function fc(e,t,r){t=pn(r,t),t=Oh(e,t,1),e=Yt(e,t,1),t=Pe(),e!==null&&(vs(e,1,t),ze(e,t))}function oe(e,t,r){if(e.tag===3)fc(e,e,r);else for(;t!==null;){if(t.tag===3){fc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xt===null||!Xt.has(n))){e=pn(r,e),e=Rh(t,e,1),t=Yt(t,e,1),e=Pe(),t!==null&&(vs(t,1,e),ze(t,e));break}}t=t.return}}function b0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&r,me===e&&(we&r)===r&&(he===4||he===3&&(we&130023424)===we&&500>ae()-Ll?_r(e,0):Il|=r),ze(e,t)}function Xh(e,t){t===0&&(e.mode&1?(t=Os,Os<<=1,!(Os&130023424)&&(Os=4194304)):t=1);var r=Pe();e=Tt(e,t),e!==null&&(vs(e,t,r),ze(e,r))}function E0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Xh(e,r)}function N0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),Xh(e,r)}var Zh;Zh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)Ae=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ae=!1,p0(e,t,r);Ae=!!(e.flags&131072)}else Ae=!1,te&&t.flags&1048576&&nh(t,vi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ti(e,t),e=t.pendingProps;var s=cn(t,Ee.current);an(t,r),s=Nl(null,t,n,e,s,r);var i=Cl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(n)?(i=!0,mi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kl(t),s.updater=Bi,t.stateNode=s,s._reactInternals=t,wa(t,n,e,r),t=ka(null,t,n,!0,i,r)):(t.tag=0,te&&i&&ml(t),Ce(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ti(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=P0(n),e=ot(n,e),s){case 0:t=_a(null,t,n,e,r);break e;case 1:t=nc(null,t,n,e,r);break e;case 11:t=tc(null,t,n,e,r);break e;case 14:t=rc(null,t,n,ot(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ot(n,s),_a(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ot(n,s),nc(e,t,n,s,r);case 3:e:{if(Ah(t),e===null)throw Error(E(387));n=t.pendingProps,i=t.memoizedState,s=i.element,uh(e,t),xi(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=pn(Error(E(423)),t),t=sc(e,t,n,r,s);break e}else if(n!==s){s=pn(Error(E(424)),t),t=sc(e,t,n,r,s);break e}else for(We=Jt(t.stateNode.containerInfo.firstChild),He=t,te=!0,ut=null,r=ah(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(dn(),n===s){t=Ot(e,t,r);break e}Ce(e,t,n,r)}t=t.child}return t;case 5:return ch(t),e===null&&ga(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,da(n,s)?o=null:i!==null&&da(n,i)&&(t.flags|=32),$h(e,t),Ce(e,t,o,r),t.child;case 6:return e===null&&ga(t),null;case 13:return Uh(e,t,r);case 4:return Sl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hn(t,null,n,r):Ce(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ot(n,s),tc(e,t,n,s,r);case 7:return Ce(e,t,t.pendingProps,r),t.child;case 8:return Ce(e,t,t.pendingProps.children,r),t.child;case 12:return Ce(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,J(yi,n._currentValue),n._currentValue=o,i!==null)if(ht(i.value,o)){if(i.children===s.children&&!Ue.current){t=Ot(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Nt(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),va(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),va(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ce(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,an(t,r),s=tt(s),n=n(s),t.flags|=1,Ce(e,t,n,r),t.child;case 14:return n=t.type,s=ot(n,t.pendingProps),s=ot(n.type,s),rc(e,t,n,s,r);case 15:return Ih(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ot(n,s),ti(e,t),t.tag=1,De(n)?(e=!0,mi(t)):e=!1,an(t,r),Th(t,n,s),wa(t,n,s,r),ka(null,t,n,!0,e,r);case 19:return Dh(e,t,r);case 22:return Lh(e,t,r)}throw Error(E(156,t.tag))};function ef(e,t){return Nd(e,t)}function C0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,r,n){return new C0(e,t,r,n)}function Dl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function P0(e){if(typeof e=="function")return Dl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nl)return 11;if(e===sl)return 14}return 2}function er(e,t){var r=e.alternate;return r===null?(r=Xe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function si(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Dl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vr:return kr(r.children,s,i,t);case rl:o=8,s|=8;break;case Wo:return e=Xe(12,r,t,s|2),e.elementType=Wo,e.lanes=i,e;case Ho:return e=Xe(13,r,t,s),e.elementType=Ho,e.lanes=i,e;case Vo:return e=Xe(19,r,t,s),e.elementType=Vo,e.lanes=i,e;case cd:return Vi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ld:o=10;break e;case ud:o=9;break e;case nl:o=11;break e;case sl:o=14;break e;case Dt:o=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Xe(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function kr(e,t,r,n){return e=Xe(7,e,n,t),e.lanes=r,e}function Vi(e,t,r,n){return e=Xe(22,e,n,t),e.elementType=cd,e.lanes=r,e.stateNode={isHidden:!1},e}function Ro(e,t,r){return e=Xe(6,e,null,t),e.lanes=r,e}function Io(e,t,r){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function T0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fo(0),this.expirationTimes=fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zl(e,t,r,n,s,i,o,a,l){return e=new T0(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Xe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kl(i),e}function O0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function tf(e){if(!e)return nr;e=e._reactInternals;e:{if(Pr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(De(r))return th(e,r,t)}return t}function rf(e,t,r,n,s,i,o,a,l){return e=zl(r,n,!0,e,s,i,o,a,l),e.context=tf(null),r=e.current,n=Pe(),s=Zt(r),i=Nt(n,s),i.callback=t??null,Yt(r,i,s),e.current.lanes=s,vs(e,s,n),ze(e,n),e}function qi(e,t,r,n){var s=t.current,i=Pe(),o=Zt(s);return r=tf(r),t.context===null?t.context=r:t.pendingContext=r,t=Nt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Yt(s,t,o),e!==null&&(dt(e,s,o,i),Xs(e,s,o)),o}function Ci(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ml(e,t){pc(e,t),(e=e.alternate)&&pc(e,t)}function R0(){return null}var nf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fl(e){this._internalRoot=e}Ki.prototype.render=Fl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));qi(e,t,null,null)};Ki.prototype.unmount=Fl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nr(function(){qi(null,e,null,null)}),t[Pt]=null}};function Ki(e){this._internalRoot=e}Ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ld();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ft.length&&t!==0&&t<Ft[r].priority;r++);Ft.splice(r,0,e),r===0&&Ad(e)}};function Bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mc(){}function I0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Ci(o);i.call(c)}}var o=rf(t,n,e,0,null,!1,!1,"",mc);return e._reactRootContainer=o,e[Pt]=o.current,ss(e.nodeType===8?e.parentNode:e),Nr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Ci(l);a.call(c)}}var l=zl(e,0,!1,null,null,!1,!1,"",mc);return e._reactRootContainer=l,e[Pt]=l.current,ss(e.nodeType===8?e.parentNode:e),Nr(function(){qi(t,l,r,n)}),l}function Qi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ci(o);a.call(l)}}qi(t,o,e,s)}else o=I0(r,t,e,s,n);return Ci(o)}Rd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=An(t.pendingLanes);r!==0&&(al(t,r|1),ze(t,ae()),!(W&6)&&(mn=ae()+500,or()))}break;case 13:Nr(function(){var n=Tt(e,1);if(n!==null){var s=Pe();dt(n,e,1,s)}}),Ml(e,1)}};ll=function(e){if(e.tag===13){var t=Tt(e,134217728);if(t!==null){var r=Pe();dt(t,e,134217728,r)}Ml(e,134217728)}};Id=function(e){if(e.tag===13){var t=Zt(e),r=Tt(e,t);if(r!==null){var n=Pe();dt(r,e,t,n)}Ml(e,t)}};Ld=function(){return K};$d=function(e,t){var r=K;try{return K=e,t()}finally{K=r}};ta=function(e,t,r){switch(t){case"input":if(Go(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=zi(n);if(!s)throw Error(E(90));hd(n),Go(n,s)}}}break;case"textarea":pd(e,r);break;case"select":t=r.value,t!=null&&rn(e,!!r.multiple,t,!1)}};_d=$l;kd=Nr;var L0={usingClientEntryPoint:!1,Events:[ws,Qr,zi,wd,xd,$l]},Rn={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$0={bundleType:Rn.bundleType,version:Rn.version,rendererPackageName:Rn.rendererPackageName,rendererConfig:Rn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bd(e),e===null?null:e.stateNode},findFiberByHostInstance:Rn.findFiberByHostInstance||R0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{$i=Bs.inject($0),wt=Bs}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L0;qe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bl(t))throw Error(E(200));return O0(e,t,null,r)};qe.createRoot=function(e,t){if(!Bl(e))throw Error(E(299));var r=!1,n="",s=nf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=zl(e,1,!1,null,null,r,!1,n,s),e[Pt]=t.current,ss(e.nodeType===8?e.parentNode:e),new Fl(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=bd(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Nr(e)};qe.hydrate=function(e,t,r){if(!Gi(t))throw Error(E(200));return Qi(null,e,t,!0,r)};qe.hydrateRoot=function(e,t,r){if(!Bl(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=nf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=rf(t,null,e,1,r??null,s,!1,i,o),e[Pt]=t.current,ss(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ki(t)};qe.render=function(e,t,r){if(!Gi(t))throw Error(E(200));return Qi(null,e,t,!1,r)};qe.unmountComponentAtNode=function(e){if(!Gi(e))throw Error(E(40));return e._reactRootContainer?(Nr(function(){Qi(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};qe.unstable_batchedUpdates=$l;qe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gi(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Qi(e,t,r,!1,n)};qe.version="18.3.1-next-f1338f8080-20240426";function sf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sf)}catch(e){console.error(e)}}sf(),sd.exports=qe;var of=sd.exports;const A0=qc(of);var af,gc=of;af=gc.createRoot,gc.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(this,arguments)}var qt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qt||(qt={}));const vc="popstate";function U0(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return La("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Pi(s)}return z0(t,r,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function D0(){return Math.random().toString(36).substr(2,8)}function yc(e,t){return{usr:e.state,key:e.key,idx:t}}function La(e,t,r,n){return r===void 0&&(r=null),fs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xn(t):t,{state:r,key:t&&t.key||n||D0()})}function Pi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function z0(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=qt.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(fs({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=qt.Pop;let w=h(),p=w==null?null:w-c;c=w,l&&l({action:a,location:x.location,delta:p})}function d(w,p){a=qt.Push;let m=La(x.location,w,p);c=h()+1;let v=yc(m,c),_=x.createHref(m);try{o.pushState(v,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&l&&l({action:a,location:x.location,delta:1})}function g(w,p){a=qt.Replace;let m=La(x.location,w,p);c=h();let v=yc(m,c),_=x.createHref(m);o.replaceState(v,"",_),i&&l&&l({action:a,location:x.location,delta:0})}function y(w){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof w=="string"?w:Pi(w);return m=m.replace(/ $/,"%20"),le(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let x={get action(){return a},get location(){return e(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(vc,f),l=w,()=>{s.removeEventListener(vc,f),l=null}},createHref(w){return t(s,w)},createURL:y,encodeLocation(w){let p=y(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:g,go(w){return o.go(w)}};return x}var wc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wc||(wc={}));function M0(e,t,r){return r===void 0&&(r="/"),F0(e,t,r,!1)}function F0(e,t,r,n){let s=typeof t=="string"?xn(t):t,i=Wl(s.pathname||"/",r);if(i==null)return null;let o=uf(e);B0(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Z0(i);a=Y0(o[l],c,n)}return a}function uf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(le(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=tr([n,l.relativePath]),h=r.concat(l);i.children&&i.children.length>0&&(le(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),uf(i.children,t,h,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Q0(c,i.index),routesMeta:h})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of cf(i.path))s(i,o,l)}),t}function cf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=cf(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function B0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:J0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const W0=/^:[\w-]+$/,H0=3,V0=2,q0=1,K0=10,G0=-2,xc=e=>e==="*";function Q0(e,t){let r=e.split("/"),n=r.length;return r.some(xc)&&(n+=G0),t&&(n+=V0),r.filter(s=>!xc(s)).reduce((s,i)=>s+(W0.test(i)?H0:i===""?q0:K0),n)}function J0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Y0(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",f=_c({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),d=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=_c({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:tr([i,f.pathname]),pathnameBase:ng(tr([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=tr([i,f.pathnameBase]))}return o}function _c(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=X0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,h,f)=>{let{paramName:d,isOptional:g}=h;if(d==="*"){let x=a[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=a[f];return g&&!y?c[d]=void 0:c[d]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function X0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),lf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Z0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function eg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?xn(e):e;return{pathname:r?r.startsWith("/")?r:tg(r,t):t,search:sg(n),hash:ig(s)}}function tg(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Lo(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Hl(e,t){let r=rg(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Vl(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=xn(e):(s=fs({},e),le(!s.pathname||!s.pathname.includes("?"),Lo("?","pathname","search",s)),le(!s.pathname||!s.pathname.includes("#"),Lo("#","pathname","hash",s)),le(!s.search||!s.search.includes("#"),Lo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;s.pathname=d.join("/")}a=f>=0?t[f]:"/"}let l=eg(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const tr=e=>e.join("/").replace(/\/\/+/g,"/"),ng=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ig=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function og(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const df=["post","put","patch","delete"];new Set(df);const ag=["get",...df];new Set(ag);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ps.apply(this,arguments)}const ql=k.createContext(null),lg=k.createContext(null),ar=k.createContext(null),Ji=k.createContext(null),lr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),hf=k.createContext(null);function ug(e,t){let{relative:r}=t===void 0?{}:t;_n()||le(!1);let{basename:n,navigator:s}=k.useContext(ar),{hash:i,pathname:o,search:a}=pf(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:tr([n,o])),s.createHref({pathname:l,search:a,hash:i})}function _n(){return k.useContext(Ji)!=null}function kn(){return _n()||le(!1),k.useContext(Ji).location}function ff(e){k.useContext(ar).static||k.useLayoutEffect(e)}function Kl(){let{isDataRoute:e}=k.useContext(lr);return e?kg():cg()}function cg(){_n()||le(!1);let e=k.useContext(ql),{basename:t,future:r,navigator:n}=k.useContext(ar),{matches:s}=k.useContext(lr),{pathname:i}=kn(),o=JSON.stringify(Hl(s,r.v7_relativeSplatPath)),a=k.useRef(!1);return ff(()=>{a.current=!0}),k.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=Vl(c,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:tr([t,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[t,n,o,i,e])}function pf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(ar),{matches:s}=k.useContext(lr),{pathname:i}=kn(),o=JSON.stringify(Hl(s,n.v7_relativeSplatPath));return k.useMemo(()=>Vl(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function dg(e,t){return hg(e,t)}function hg(e,t,r,n){_n()||le(!1);let{navigator:s}=k.useContext(ar),{matches:i}=k.useContext(lr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=kn(),h;if(t){var f;let w=typeof t=="string"?xn(t):t;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||le(!1),h=w}else h=c;let d=h.pathname||"/",g=d;if(l!=="/"){let w=l.replace(/^\//,"").split("/");g="/"+d.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=M0(e,{pathname:g}),x=vg(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:tr([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:tr([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&x?k.createElement(Ji.Provider,{value:{location:ps({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:qt.Pop}},x):x}function fg(){let e=_g(),t=og(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:s},r):null,null)}const pg=k.createElement(fg,null);class mg extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(lr.Provider,{value:this.props.routeContext},k.createElement(hf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gg(e){let{routeContext:t,match:r,children:n}=e,s=k.useContext(ql);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(lr.Provider,{value:t},n)}function vg(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||le(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:d,errors:g}=r,y=f.route.loader&&d[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,d)=>{let g,y=!1,x=null,w=null;r&&(g=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||pg,l&&(c<0&&d===0?(y=!0,w=null):c===d&&(y=!0,w=f.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,d+1)),m=()=>{let v;return g?v=x:y?v=w:f.route.Component?v=k.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=h,k.createElement(gg,{match:f,routeContext:{outlet:h,matches:p,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?k.createElement(mg,{location:r.location,revalidation:r.revalidation,component:x,error:g,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var mf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mf||{}),Ti=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ti||{});function yg(e){let t=k.useContext(ql);return t||le(!1),t}function wg(e){let t=k.useContext(lg);return t||le(!1),t}function xg(e){let t=k.useContext(lr);return t||le(!1),t}function gf(e){let t=xg(),r=t.matches[t.matches.length-1];return r.route.id||le(!1),r.route.id}function _g(){var e;let t=k.useContext(hf),r=wg(Ti.UseRouteError),n=gf(Ti.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function kg(){let{router:e}=yg(mf.UseNavigateStable),t=gf(Ti.UseNavigateStable),r=k.useRef(!1);return ff(()=>{r.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ps({fromRouteId:t},i)))},[e,t])}function kc(e){let{to:t,replace:r,state:n,relative:s}=e;_n()||le(!1);let{future:i,static:o}=k.useContext(ar),{matches:a}=k.useContext(lr),{pathname:l}=kn(),c=Kl(),h=Vl(t,Hl(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(h);return k.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function mr(e){le(!1)}function Sg(e){let{basename:t="/",children:r=null,location:n,navigationType:s=qt.Pop,navigator:i,static:o=!1,future:a}=e;_n()&&le(!1);let l=t.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:i,static:o,future:ps({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=xn(n));let{pathname:h="/",search:f="",hash:d="",state:g=null,key:y="default"}=n,x=k.useMemo(()=>{let w=Wl(h,l);return w==null?null:{location:{pathname:w,search:f,hash:d,state:g,key:y},navigationType:s}},[l,h,f,d,g,y,s]);return x==null?null:k.createElement(ar.Provider,{value:c},k.createElement(Ji.Provider,{children:r,value:x}))}function jg(e){let{children:t,location:r}=e;return dg($a(t),r)}new Promise(()=>{});function $a(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,s)=>{if(!k.isValidElement(n))return;let i=[...t,s];if(n.type===k.Fragment){r.push.apply(r,$a(n.props.children,i));return}n.type!==mr&&le(!1),!n.props.index||!n.props.children||le(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=$a(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aa.apply(this,arguments)}function bg(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Eg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ng(e,t){return e.button===0&&(!t||t==="_self")&&!Eg(e)}const Cg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Pg="6";try{window.__reactRouterVersion=Pg}catch{}const Tg="startTransition",Sc=bp[Tg];function Og(e){let{basename:t,children:r,future:n,window:s}=e,i=k.useRef();i.current==null&&(i.current=U0({window:s,v5Compat:!0}));let o=i.current,[a,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},h=k.useCallback(f=>{c&&Sc?Sc(()=>l(f)):l(f)},[l,c]);return k.useLayoutEffect(()=>o.listen(h),[o,h]),k.createElement(Sg,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const Rg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ig=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=k.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f}=t,d=bg(t,Cg),{basename:g}=k.useContext(ar),y,x=!1;if(typeof c=="string"&&Ig.test(c)&&(y=c,Rg))try{let v=new URL(window.location.href),_=c.startsWith("//")?new URL(v.protocol+c):new URL(c),j=Wl(_.pathname,g);_.origin===v.origin&&j!=null?c=j+_.search+_.hash:x=!0}catch{}let w=ug(c,{relative:s}),p=Lg(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function m(v){n&&n(v),v.defaultPrevented||p(v)}return k.createElement("a",Aa({},d,{href:y||w,onClick:x||i?n:m,ref:r,target:l}))});var jc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jc||(jc={}));var bc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bc||(bc={}));function Lg(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Kl(),c=kn(),h=pf(e,{relative:o});return k.useCallback(f=>{if(Ng(f,r)){f.preventDefault();let d=n!==void 0?n:Pi(c)===Pi(h);l(e,{replace:d,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,h,n,s,r,e,i,o,a])}const $g="modulepreload",Ag=function(e,t){return new URL(e,t).href},Ec={},_s=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Ag(c,n),c in Ec)return;Ec[c]=!0;const h=c.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(!!n)for(let y=o.length-1;y>=0;y--){const x=o[y];if(x.href===c&&(!h||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":$g,h||(g.as="script"),g.crossOrigin="",g.href=c,l&&g.setAttribute("nonce",l),document.head.appendChild(g),h)return new Promise((y,x)=>{g.addEventListener("load",y),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Ug=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_s(async()=>{const{default:n}=await Promise.resolve().then(()=>Sn);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Gl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Dg extends Gl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Nc extends Gl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Cc extends Gl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ua;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ua||(Ua={}));var zg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function l(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Mg{constructor(t,{headers:r={},customFetch:n,region:s=Ua.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Ug(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return zg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let h;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(a["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(a["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:h}).catch(x=>{throw new Dg(x)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new Nc(f);if(!f.ok)throw new Cc(f);let g=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield f.json():g==="application/octet-stream"?y=yield f.blob():g==="text/event-stream"?y=f:g==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Cc||s instanceof Nc?s.context:void 0}}})}}var $e={},Ql={},Yi={},ks={},Xi={},Zi={},Fg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gn=Fg();const Bg=gn.fetch,vf=gn.fetch.bind(gn),yf=gn.Headers,Wg=gn.Request,Hg=gn.Response,Sn=Object.freeze(Object.defineProperty({__proto__:null,Headers:yf,Request:Wg,Response:Hg,default:vf,fetch:Bg},Symbol.toStringTag,{value:"Module"})),Vg=up(Sn);var eo={};Object.defineProperty(eo,"__esModule",{value:!0});let qg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};eo.default=qg;var wf=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zi,"__esModule",{value:!0});const Kg=wf(Vg),Gg=wf(eo);let Qg=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Kg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,h=null,f=null,d=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=p:h=JSON.parse(p))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,d=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await i.text();try{c=JSON.parse(x),Array.isArray(c)&&i.status===404&&(h=[],c=null,d=200,g="OK")}catch{i.status===404&&x===""?(d=204,g="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,d=200,g="OK"),c&&this.shouldThrowOnError)throw new Gg.default(c)}return{error:c,data:h,count:f,status:d,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Zi.default=Qg;var Jg=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xi,"__esModule",{value:!0});const Yg=Jg(Zi);let Xg=class extends Yg.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Xi.default=Xg;var Zg=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ks,"__esModule",{value:!0});const ev=Zg(Xi);let tv=class extends ev.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ks.default=tv;var rv=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yi,"__esModule",{value:!0});const In=rv(ks);let nv=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new In.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new In.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new In.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new In.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new In.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Yi.default=nv;var to={},ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.version=void 0;ro.version="0.0.0-automated";Object.defineProperty(to,"__esModule",{value:!0});to.DEFAULT_HEADERS=void 0;const sv=ro;to.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${sv.version}`};var xf=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ql,"__esModule",{value:!0});const iv=xf(Yi),ov=xf(ks),av=to;let lv=class _f{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},av.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new iv.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new _f(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{a.searchParams.append(h,f)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new ov.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ql.default=lv;var jn=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($e,"__esModule",{value:!0});$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;const kf=jn(Ql);$e.PostgrestClient=kf.default;const Sf=jn(Yi);$e.PostgrestQueryBuilder=Sf.default;const jf=jn(ks);$e.PostgrestFilterBuilder=jf.default;const bf=jn(Xi);$e.PostgrestTransformBuilder=bf.default;const Ef=jn(Zi);$e.PostgrestBuilder=Ef.default;const Nf=jn(eo);$e.PostgrestError=Nf.default;var uv=$e.default={PostgrestClient:kf.default,PostgrestQueryBuilder:Sf.default,PostgrestFilterBuilder:jf.default,PostgrestTransformBuilder:bf.default,PostgrestBuilder:Ef.default,PostgrestError:Nf.default};const{PostgrestClient:cv,PostgrestQueryBuilder:Vw,PostgrestFilterBuilder:qw,PostgrestTransformBuilder:Kw,PostgrestBuilder:Gw,PostgrestError:Qw}=uv;function dv(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const hv=dv(),fv="2.11.15",pv=`realtime-js/${fv}`,mv="1.0.0",Cf=1e4,gv=1e3;var Gn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gn||(Gn={}));var je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(je||(je={}));var lt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(lt||(lt={}));var Da;(function(e){e.websocket="websocket"})(Da||(Da={}));var vr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vr||(vr={}));class vv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Pf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Q||(Q={}));const Pc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=yv(o,e,t,s),i),{})},yv=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Tf(i,o):za(o)},Tf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return kv(t,r)}switch(e){case Q.bool:return wv(t);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return xv(t);case Q.json:case Q.jsonb:return _v(t);case Q.timestamp:return Sv(t);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return za(t);default:return za(t)}},za=e=>e,wv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},_v=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},kv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Tf(t,a))}return e},Sv=e=>typeof e=="string"?e.replace(" ","T"):e,Of=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class $o{constructor(t,r,n={},s=Cf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Tc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Tc||(Tc={}));class Qn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Qn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,h)=>{o[c]||(l[c]=h)}),this.map(o,(c,h)=>{const f=i[c];if(f){const d=h.map(w=>w.presence_ref),g=f.map(w=>w.presence_ref),y=h.filter(w=>g.indexOf(w.presence_ref)<0),x=f.filter(w=>d.indexOf(w.presence_ref)<0);y.length>0&&(a[c]=y),x.length>0&&(l[c]=x)}else a[c]=h}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const h=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),h.length>0){const f=t[a].map(g=>g.presence_ref),d=h.filter(g=>f.indexOf(g.presence_ref)<0);t[a].unshift(...d)}n(a,h,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const h=l.map(f=>f.presence_ref);c=c.filter(f=>h.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Oc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Oc||(Oc={}));var Rc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Rc||(Rc={}));var St;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(St||(St={}));class Jl{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $o(this,lt.join,this.params,this.timeout),this.rejoinTimer=new Pf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Qn(this),this.broadcastEndpointURL=Of(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==je.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(h=>t==null?void 0:t(St.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(St.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var f;if(this.socket.setAuth(),h===void 0){t==null||t(St.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,g=(f=d==null?void 0:d.length)!==null&&f!==void 0?f:0,y=[];for(let x=0;x<g;x++){const w=d[x],{filter:{event:p,schema:m,table:v,filter:_}}=w,j=h&&h[x];if(j&&j.event===p&&j.schema===m&&j.table===v&&j.filter===_)y.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),this.state=je.errored,t==null||t(St.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(St.SUBSCRIBED);return}}).receive("error",h=>{this.state=je.errored,t==null||t(St.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(St.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=je.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new $o(this,lt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $o(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:h}=lt;if(n&&[a,l,c,h].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,r,n);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,x,w;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(x=g.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(g=>g.callback(d,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,x,w,p,m,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const _=g.id,j=(y=g.filter)===null||y===void 0?void 0:y.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(m=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof d=="object"&&"ids"in d){const y=d.data,{schema:x,table:w,commit_timestamp:p,type:m,errors:v}=y;d=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:p,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(y))}g.callback(d,n)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Jl.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(lt.close,{},t)}_onError(t){this._on(lt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Pc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Pc(t.columns,t.old_record)),r}}const Ic=()=>{},jv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bv{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ic,this.ref=0,this.logger=Ic,this.conn=null,this.sendBuffer=[],this.serializer=new vv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>_s(async()=>{const{default:l}=await Promise.resolve().then(()=>Sn);return{default:l}},void 0,import.meta.url).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Da.websocket}`,this.httpEndpoint=Of(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Pf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=hv),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mv}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Gn.connecting:return vr.Connecting;case Gn.open:return vr.Open;case Gn.closing:return vr.Closing;default:return vr.Closed}}isConnected(){return this.connectionState()===vr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Jl(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:pv};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(lt.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(gv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(lt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([jv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Yl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function fe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ev extends Yl{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ma extends Yl{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Nv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function l(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Rf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_s(async()=>{const{default:n}=await Promise.resolve().then(()=>Sn);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Cv=()=>Nv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _s(()=>Promise.resolve().then(()=>Sn),void 0,import.meta.url)).Response:Response}),Fa=e=>{if(Array.isArray(e))return e.map(r=>Fa(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Fa(n)}),t};var Tr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function l(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Ao=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Pv=(e,t,r)=>Tr(void 0,void 0,void 0,function*(){const n=yield Cv();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Ev(Ao(s),e.status||500))}).catch(s=>{t(new Ma(Ao(s),s))}):t(new Ma(Ao(e),e))}),Tv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ss(e,t,r,n,s,i){return Tr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Tv(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Pv(l,a,n))})})}function Oi(e,t,r,n){return Tr(this,void 0,void 0,function*(){return Ss(e,"GET",t,r,n)})}function Mt(e,t,r,n,s){return Tr(this,void 0,void 0,function*(){return Ss(e,"POST",t,n,s,r)})}function Ov(e,t,r,n,s){return Tr(this,void 0,void 0,function*(){return Ss(e,"PUT",t,n,s,r)})}function Rv(e,t,r,n){return Tr(this,void 0,void 0,function*(){return Ss(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function If(e,t,r,n,s){return Tr(this,void 0,void 0,function*(){return Ss(e,"DELETE",t,n,s,r)})}var Ie=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function l(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Iv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lv{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Rf(s)}uploadOrUpdate(t,r,n,s){return Ie(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Lc),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),h=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield f.json();return f.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(fe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ie(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Lc.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:h}),d=yield f.json();return f.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(fe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Ie(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Mt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Yl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ie(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ie(this,void 0,void 0,function*(){try{return{data:{path:(yield Mt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ie(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Mt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ie(this,void 0,void 0,function*(){try{const s=yield Mt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}download(t,r){return Ie(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Oi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(fe(a))return{data:null,error:a};throw a}})}info(t){return Ie(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Oi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Fa(n),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}exists(t){return Ie(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Rv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(fe(n)&&n instanceof Ma){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield If(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ie(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Iv),r),{prefix:t||""});return{data:yield Mt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const $v="2.7.1",Av={"X-Client-Info":`storage-js/${$v}`};var Ur=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function l(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Uv{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Av),r),this.fetch=Rf(n)}listBuckets(){return Ur(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(fe(t))return{data:null,error:t};throw t}})}getBucket(t){return Ur(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ur(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ur(this,void 0,void 0,function*(){try{return{data:yield Ov(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ur(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ur(this,void 0,void 0,function*(){try{return{data:yield If(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}}class Dv extends Uv{constructor(t,r={},n){super(t,r,n)}from(t){return new Lv(this.url,this.headers,t,this.fetch)}}const zv="2.51.0";let Dn="";typeof Deno<"u"?Dn="deno":typeof document<"u"?Dn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dn="react-native":Dn="node";const Mv={"X-Client-Info":`supabase-js-${Dn}/${zv}`},Fv={headers:Mv},Bv={schema:"public"},Wv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hv={};var Vv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function l(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const qv=e=>{let t;return e?t=e:typeof fetch>"u"?t=vf:t=fetch,(...r)=>t(...r)},Kv=()=>typeof Headers>"u"?yf:Headers,Gv=(e,t,r)=>{const n=qv(r),s=Kv();return(i,o)=>Vv(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var Qv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function l(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function Jv(e){return e.endsWith("/")?e:e+"/"}function Yv(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:h,global:f}=t,d={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},h),o),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Qv(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Lf="2.71.0",Br=30*1e3,Ba=3,Uo=Ba*Br,Xv="http://localhost:9999",Zv="supabase.auth.token",ey={"X-Client-Info":`gotrue-js/${Lf}`},Wa="X-Supabase-Api-Version",$f={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ty=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ry=10*60*1e3;class Xl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ny extends Xl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function sy(e){return U(e)&&e.name==="AuthApiError"}class Af extends Xl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ur extends Xl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ut extends ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iy(e){return U(e)&&e.name==="AuthSessionMissingError"}class Ws extends ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hs extends ur{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vs extends ur{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oy(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}class $c extends ur{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ha extends ur{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Do(e){return U(e)&&e.name==="AuthRetryableFetchError"}class Ac extends ur{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Va extends ur{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uc=` 	
\r=`.split(""),ay=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Uc.length;t+=1)e[Uc[t].charCodeAt(0)]=-2;for(let t=0;t<Ri.length;t+=1)e[Ri[t].charCodeAt(0)]=t;return e})();function Dc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ri[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ri[n]),t.queuedBits-=6}}function Uf(e,t,r){const n=ay[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zc(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{cy(o,n,r)};for(let o=0;o<e.length;o+=1)Uf(e.charCodeAt(o),s,i);return t.join("")}function ly(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function uy(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ly(n,t)}}function cy(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function dy(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Uf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function hy(e){const t=[];return uy(e,r=>t.push(r)),new Uint8Array(t)}function fy(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Dc(s,r,n)),Dc(null,r,n),t.join("")}function py(e){return Math.round(Date.now()/1e3)+e}function my(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const it=()=>typeof window<"u"&&typeof document<"u",dr={tested:!1,writable:!1},Df=()=>{if(!it())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dr.tested)return dr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),dr.tested=!0,dr.writable=!0}catch{dr.tested=!0,dr.writable=!1}return dr.writable};function gy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const zf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_s(async()=>{const{default:n}=await Promise.resolve().then(()=>Sn);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},vy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Wr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},hr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},At=async(e,t)=>{await e.removeItem(t)};class no{constructor(){this.promise=new no.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}no.promiseConstructor=Promise;function zo(e){const t=e.split(".");if(t.length!==3)throw new Va("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ty.test(t[n]))throw new Va("JWT not in base64url format");return{header:JSON.parse(zc(t[0])),payload:JSON.parse(zc(t[1])),signature:dy(t[2]),raw:{header:t[0],payload:t[1]}}}async function yy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function wy(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function xy(e){return("0"+e.toString(16)).substr(-2)}function _y(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,xy).join("")}async function ky(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Sy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await ky(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dr(e,t,r=!1){const n=_y();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Wr(e,`${t}-code-verifier`,s);const i=await Sy(n);return[i,n===i?"plain":"s256"]}const jy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function by(e){const t=e.headers.get(Wa);if(!t||!t.match(jy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ey(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ny(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Cy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zr(e){if(!Cy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mo(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var Py=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const gr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ty=[502,503,504];async function Mc(e){var t;if(!vy(e))throw new Ha(gr(e),0);if(Ty.includes(e.status))throw new Ha(gr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Af(gr(i),i)}let n;const s=by(e);if(s&&s.getTime()>=$f["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ac(gr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ut}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ac(gr(r),e.status,r.weak_password.reasons);throw new ny(gr(r),e.status||500,n)}const Oy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function F(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Wa]||(i[Wa]=$f["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Ry(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Ry(e,t,r,n,s,i){const o=Oy(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Ha(gr(l),0)}if(a.ok||await Mc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Mc(l)}}function _t(e){var t;let r=null;Ay(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=py(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Fc(e){const t=_t(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Wt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Iy(e){return{data:e,error:null}}function Ly(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Py(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function $y(e){return e}function Ay(e){return e.access_token&&e.refresh_token&&e.expires_in}const Fo=["global","local","others"];var Uy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Dy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=zf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Fo[0]){if(Fo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fo.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Uy(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ly,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(U(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},h=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:$y});if(h.error)throw h.error;const f=await h.json(),d=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);c[`${w}Page`]=x}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(U(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){zr(t);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){zr(t);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Wt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){zr(t);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){zr(t.userId);try{const{data:r,error:n}=await F(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteFactor(t){zr(t.userId),zr(t.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}function Bc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function zy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Mr={debug:!!(globalThis&&Df()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class My extends Mf{}async function Fy(e,t,r){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new My(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}zy();const By={url:Xv,storageKey:Zv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ey,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wc(e,t,r){return await r()}const Fr={};class ms{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ms.nextInstanceID,ms.nextInstanceID+=1,this.instanceID>0&&it()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},By),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Dy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=zf(s.fetch),this.lock=s.lock||Wc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:it()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Fy:this.lock=Wc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Df()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Bc(this.memoryStorage)),it()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Fr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Fr[this.storageKey]=Object.assign(Object.assign({},Fr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Fr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Fr[this.storageKey]=Object.assign(Object.assign({},Fr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=gy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),it()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),oy(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?{error:r}:{error:new Af("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:_t}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:h,password:f,options:d}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Dr(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:h,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:g,code_challenge_method:y},xform:_t})}else if("phone"in t){const{phone:h,password:f,options:d}=t;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:_t})}else throw new Hs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Fc})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Fc})}else throw new Hs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ws}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,a,l,c,h,f,d,g;let y,x;if("message"in t)y=t.message,x=t.signature;else{const{chain:w,wallet:p,statement:m,options:v}=t;let _;if(it())if(typeof p=="object")_=p;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=p}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),m?{statement:m}:null));let C;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")C=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)C=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),x=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(h=v==null?void 0:v.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:w,error:p}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:fy(x)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:_t});if(p)throw p;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ws}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:p})}catch(w){if(U(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await hr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:_t});if(await At(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ws}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(U(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_t}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ws}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Dr(this.storage,this.storageKey));const{error:f}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Hs("You must provide either an email or phone number.")}catch(a){if(U(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:_t});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Dr(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Iy})}catch(i){if(U(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ut;const{error:s}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await F(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await F(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Hs("You must provide either an email or phone number and a type")}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await hr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Uo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await hr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Mo()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,h)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,h))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Wt})})}catch(r){if(U(r))return iy(r)&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ut;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Dr(this.storage,this.storageKey));const{data:c,error:h}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Wt});if(h)throw h;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ut;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=zo(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(U(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ut;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!it())throw new Vs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $c("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $c("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Vs("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(a);let d=h+f;l&&(d=parseInt(l));const g=d-h;g*1e3<=Br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=d-f;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,d,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,d,h);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:d,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(U(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await hr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(sy(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await At(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=my(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Dr(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(U(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,h;const{data:f,error:d}=i;if(d)throw d;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",g,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return it()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(U(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await wy(async s=>(s>0&&await yy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_t})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Do(i)&&Date.now()+o-n<Br})}catch(n){if(this._debug(r,"error",n),U(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),it()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await hr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await hr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Wr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Mo()}else if(s&&!s.user&&!s.user){const o=await hr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await At(this.storage,this.storageKey+"-user"),await Wr(this.storage,this.storageKey,s)):s.user=Mo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Uo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Uo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Do(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new no;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ut;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),U(i)){const o={session:null,error:i};return Do(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Wr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=structuredClone(s);await Wr(this.storage,this.storageKey,i)}else{const s=structuredClone(r);await Wr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await At(this.storage,this.storageKey),await At(this.storage,this.storageKey+"-code-verifier"),await At(this.storage,this.storageKey+"-user"),this.userStorage&&await At(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&it()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Br);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Br}ms, refresh threshold is ${Ba} ticks`),s<=Ba&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Mf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!it()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Dr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=zo(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+ry>s)return n;const{data:i,error:o}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};n=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=zo(n);r!=null&&r.allowExpired||Ey(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const h=Ny(s.alg),f=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,o,hy(`${a}.${l}`)))throw new Va("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}}ms.nextInstanceID=0;const Wy=ms;class Hy extends Wy{constructor(t){super(t)}}var Vy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function l(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class qy{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=Jv(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:Bv,realtime:Hv,auth:Object.assign(Object.assign({},Wv),{storageKey:c}),global:Fv},f=Yv(n??{},h);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Gv(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new cv(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Mg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Dv(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Vy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hy({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new bv(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ky=(e,t,r)=>new qy(e,t,r),Gy="https://moaxrudgwlfvujfawdqx.supabase.co",Qy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1vYXhydWRnd2xmdnVqZmF3ZHF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIzMjA2MjUsImV4cCI6MjA2Nzg5NjYyNX0.5bvuyoYIZnCRvXnHG1DLyMXnpHeF0T9HnWSRw6R5uUM",V=Ky(Gy,Qy),Ff=k.createContext(void 0),Or=()=>{const e=k.useContext(Ff);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Jy=({children:e})=>{const[t,r]=k.useState(null),[n,s]=k.useState(null),[i,o]=k.useState(!0),[a,l]=k.useState(!1),c=Kl();k.useEffect(()=>{let y=!0;(async()=>{try{console.log("Initializing auth...");const{data:{session:p}}=await V.auth.getSession();y&&(p!=null&&p.user?(console.log("Session found:",p.user.id),r(p.user),await h(p.user.id)):(console.log("No session found"),r(null),s(null)))}catch(p){console.error("Auth initialization error:",p),y&&(r(null),s(null))}finally{y&&(o(!1),l(!0))}})();const{data:{subscription:w}}=V.auth.onAuthStateChange(async(p,m)=>{var v;if(!(!y||!a)&&p!=="INITIAL_SESSION"){console.log("Auth state change:",p,(v=m==null?void 0:m.user)==null?void 0:v.id);try{if(m!=null&&m.user){r(m.user);const _=p==="SIGNED_IN";await h(m.user.id,_)}else r(null),s(null)}catch(_){console.error("Auth state change error:",_)}}});return()=>{y=!1,w.unsubscribe()}},[c]);const h=async(y,x=!1)=>{try{console.log("Fetching profile for user:",y);const{data:w,error:p}=await V.from("profiles").select("*").eq("id",y).single();if(p)throw console.error("Profile fetch error:",p),p;console.log("Profile fetched:",w),s(w),x&&((w==null?void 0:w.role)==="admin"?c("/admin"):c("/dashboard"))}catch(w){if(console.error("Profile fetch failed:",w),w.code==="PGRST116")await f(y);else throw w}},f=async y=>{var x,w,p;try{console.log("Creating profile for user:",y);const{data:m}=await V.auth.getUser(),{data:v,error:_}=await V.from("profiles").insert({id:y,email:((x=m.user)==null?void 0:x.email)||"",full_name:((p=(w=m.user)==null?void 0:w.user_metadata)==null?void 0:p.full_name)||"",role:"user"}).select().single();if(_)throw _;console.log("Profile created:",v),s(v),c("/dashboard")}catch(m){throw console.error("Profile creation failed:",m),m}},g={user:t,profile:n,loading:i,logout:async()=>{try{console.log("Logging out..."),o(!0),r(null),s(null),await V.auth.signOut(),Object.keys(localStorage).forEach(y=>{y.startsWith("sb-")&&localStorage.removeItem(y)}),setTimeout(()=>{c("/"),o(!1)},100)}catch(y){throw console.error("Logout error:",y),o(!1),y}}};return u.jsx(Ff.Provider,{value:g,children:e})};var Yy=e=>{switch(e){case"success":return ew;case"info":return rw;case"warning":return tw;case"error":return nw;default:return null}},Xy=Array(12).fill(0),Zy=({visible:e})=>P.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},P.createElement("div",{className:"sonner-spinner"},Xy.map((t,r)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ew=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),tw=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),rw=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nw=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),sw=()=>{let[e,t]=P.useState(document.hidden);return P.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},qa=1,iw=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:qa++,i=this.toasts.find(a=>a.id===s),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:o,title:r}):a):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async i=>{if(aw(i)&&!i.ok){s=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,a=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:o,description:a})}else if(t.success!==void 0){s=!1;let o=typeof t.success=="function"?await t.success(i):t.success,a=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:o,description:a})}}).catch(async i=>{if(t.error!==void 0){s=!1;let o=typeof t.error=="function"?await t.error(i):t.error,a=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||qa++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Fe=new iw,ow=(e,t)=>{let r=(t==null?void 0:t.id)||qa++;return Fe.addToast({title:e,...t,id:r}),r},aw=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",lw=ow,uw=()=>Fe.toasts,z=Object.assign(lw,{success:Fe.success,info:Fe.info,warning:Fe.warning,error:Fe.error,custom:Fe.custom,message:Fe.message,promise:Fe.promise,dismiss:Fe.dismiss,loading:Fe.loading},{getHistory:uw});function cw(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}cw(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qs(e){return e.label!==void 0}var dw=3,hw="32px",fw=4e3,pw=356,mw=14,gw=20,vw=200;function yw(...e){return e.filter(Boolean).join(" ")}var ww=e=>{var t,r,n,s,i,o,a,l,c,h;let{invert:f,toast:d,unstyled:g,interacting:y,setHeights:x,visibleToasts:w,heights:p,index:m,toasts:v,expanded:_,removeToast:j,defaultRichColors:N,closeButton:C,style:S,cancelButtonStyle:A,actionButtonStyle:I,className:M="",descriptionClassName:ee="",duration:ve,position:Ge,gap:nt,loadingIcon:re,expandByDefault:_e,classNames:b,icons:O,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:R,cn:L}=e,[H,ue]=P.useState(!1),[Re,q]=P.useState(!1),[Ne,ft]=P.useState(!1),[It,cr]=P.useState(!1),[Yf,so]=P.useState(0),[Xf,tu]=P.useState(0),ru=P.useRef(null),Rr=P.useRef(null),Zf=m===0,ep=m+1<=w,Qe=d.type,Ir=d.dismissible!==!1,tp=d.className||"",rp=d.descriptionClassName||"",js=P.useMemo(()=>p.findIndex(D=>D.toastId===d.id)||0,[p,d.id]),np=P.useMemo(()=>{var D;return(D=d.closeButton)!=null?D:C},[d.closeButton,C]),nu=P.useMemo(()=>d.duration||ve||fw,[d.duration,ve]),io=P.useRef(0),Lr=P.useRef(0),su=P.useRef(0),$r=P.useRef(null),[iu,sp]=Ge.split("-"),ou=P.useMemo(()=>p.reduce((D,Y,G)=>G>=js?D:D+Y.height,0),[p,js]),au=sw(),ip=d.invert||f,oo=Qe==="loading";Lr.current=P.useMemo(()=>js*nt+ou,[js,ou]),P.useEffect(()=>{ue(!0)},[]),P.useLayoutEffect(()=>{if(!H)return;let D=Rr.current,Y=D.style.height;D.style.height="auto";let G=D.getBoundingClientRect().height;D.style.height=Y,tu(G),x(pt=>pt.find(mt=>mt.toastId===d.id)?pt.map(mt=>mt.toastId===d.id?{...mt,height:G}:mt):[{toastId:d.id,height:G,position:d.position},...pt])},[H,d.title,d.description,x,d.id]);let Lt=P.useCallback(()=>{q(!0),so(Lr.current),x(D=>D.filter(Y=>Y.toastId!==d.id)),setTimeout(()=>{j(d)},vw)},[d,j,x,Lr]);P.useEffect(()=>{if(d.promise&&Qe==="loading"||d.duration===1/0||d.type==="loading")return;let D,Y=nu;return _||y||R&&au?(()=>{if(su.current<io.current){let G=new Date().getTime()-io.current;Y=Y-G}su.current=new Date().getTime()})():Y!==1/0&&(io.current=new Date().getTime(),D=setTimeout(()=>{var G;(G=d.onAutoClose)==null||G.call(d,d),Lt()},Y)),()=>clearTimeout(D)},[_,y,_e,d,nu,Lt,d.promise,Qe,R,au]),P.useEffect(()=>{let D=Rr.current;if(D){let Y=D.getBoundingClientRect().height;return tu(Y),x(G=>[{toastId:d.id,height:Y,position:d.position},...G]),()=>x(G=>G.filter(pt=>pt.toastId!==d.id))}},[x,d.id]),P.useEffect(()=>{d.delete&&Lt()},[Lt,d.delete]);function op(){return O!=null&&O.loading?P.createElement("div",{className:"sonner-loader","data-visible":Qe==="loading"},O.loading):re?P.createElement("div",{className:"sonner-loader","data-visible":Qe==="loading"},re):P.createElement(Zy,{visible:Qe==="loading"})}return P.createElement("li",{"aria-live":d.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Rr,className:L(M,tp,b==null?void 0:b.toast,(t=d==null?void 0:d.classNames)==null?void 0:t.toast,b==null?void 0:b.default,b==null?void 0:b[Qe],(r=d==null?void 0:d.classNames)==null?void 0:r[Qe]),"data-sonner-toast":"","data-rich-colors":(n=d.richColors)!=null?n:N,"data-styled":!(d.jsx||d.unstyled||g),"data-mounted":H,"data-promise":!!d.promise,"data-removed":Re,"data-visible":ep,"data-y-position":iu,"data-x-position":sp,"data-index":m,"data-front":Zf,"data-swiping":Ne,"data-dismissible":Ir,"data-type":Qe,"data-invert":ip,"data-swipe-out":It,"data-expanded":!!(_||_e&&H),style:{"--index":m,"--toasts-before":m,"--z-index":v.length-m,"--offset":`${Re?Yf:Lr.current}px`,"--initial-height":_e?"auto":`${Xf}px`,...S,...d.style},onPointerDown:D=>{oo||!Ir||(ru.current=new Date,so(Lr.current),D.target.setPointerCapture(D.pointerId),D.target.tagName!=="BUTTON"&&(ft(!0),$r.current={x:D.clientX,y:D.clientY}))},onPointerUp:()=>{var D,Y,G,pt;if(It||!Ir)return;$r.current=null;let mt=Number(((D=Rr.current)==null?void 0:D.style.getPropertyValue("--swipe-amount").replace("px",""))||0),bs=new Date().getTime()-((Y=ru.current)==null?void 0:Y.getTime()),ap=Math.abs(mt)/bs;if(Math.abs(mt)>=gw||ap>.11){so(Lr.current),(G=d.onDismiss)==null||G.call(d,d),Lt(),cr(!0);return}(pt=Rr.current)==null||pt.style.setProperty("--swipe-amount","0px"),ft(!1)},onPointerMove:D=>{var Y;if(!$r.current||!Ir)return;let G=D.clientY-$r.current.y,pt=D.clientX-$r.current.x,mt=(iu==="top"?Math.min:Math.max)(0,G),bs=D.pointerType==="touch"?10:2;Math.abs(mt)>bs?(Y=Rr.current)==null||Y.style.setProperty("--swipe-amount",`${G}px`):Math.abs(pt)>bs&&($r.current=null)}},np&&!d.jsx?P.createElement("button",{"aria-label":$,"data-disabled":oo,"data-close-button":!0,onClick:oo||!Ir?()=>{}:()=>{var D;Lt(),(D=d.onDismiss)==null||D.call(d,d)},className:L(b==null?void 0:b.closeButton,(s=d==null?void 0:d.classNames)==null?void 0:s.closeButton)},P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,d.jsx||P.isValidElement(d.title)?d.jsx||d.title:P.createElement(P.Fragment,null,Qe||d.icon||d.promise?P.createElement("div",{"data-icon":"",className:L(b==null?void 0:b.icon,(i=d==null?void 0:d.classNames)==null?void 0:i.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||op():null,d.type!=="loading"?d.icon||(O==null?void 0:O[Qe])||Yy(Qe):null):null,P.createElement("div",{"data-content":"",className:L(b==null?void 0:b.content,(o=d==null?void 0:d.classNames)==null?void 0:o.content)},P.createElement("div",{"data-title":"",className:L(b==null?void 0:b.title,(a=d==null?void 0:d.classNames)==null?void 0:a.title)},d.title),d.description?P.createElement("div",{"data-description":"",className:L(ee,rp,b==null?void 0:b.description,(l=d==null?void 0:d.classNames)==null?void 0:l.description)},d.description):null),P.isValidElement(d.cancel)?d.cancel:d.cancel&&qs(d.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||A,onClick:D=>{var Y,G;qs(d.cancel)&&Ir&&((G=(Y=d.cancel).onClick)==null||G.call(Y,D),Lt())},className:L(b==null?void 0:b.cancelButton,(c=d==null?void 0:d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,P.isValidElement(d.action)?d.action:d.action&&qs(d.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||I,onClick:D=>{var Y,G;qs(d.action)&&(D.defaultPrevented||((G=(Y=d.action).onClick)==null||G.call(Y,D),Lt()))},className:L(b==null?void 0:b.actionButton,(h=d==null?void 0:d.classNames)==null?void 0:h.actionButton)},d.action.label):null))};function Hc(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var xw=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:h,style:f,visibleToasts:d=dw,toastOptions:g,dir:y=Hc(),gap:x=mw,loadingIcon:w,icons:p,containerAriaLabel:m="Notifications",pauseWhenPageIsHidden:v,cn:_=yw}=e,[j,N]=P.useState([]),C=P.useMemo(()=>Array.from(new Set([r].concat(j.filter(R=>R.position).map(R=>R.position)))),[j,r]),[S,A]=P.useState([]),[I,M]=P.useState(!1),[ee,ve]=P.useState(!1),[Ge,nt]=P.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=P.useRef(null),_e=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=P.useRef(null),O=P.useRef(!1),$=P.useCallback(R=>{var L;(L=j.find(H=>H.id===R.id))!=null&&L.delete||Fe.dismiss(R.id),N(H=>H.filter(({id:ue})=>ue!==R.id))},[j]);return P.useEffect(()=>Fe.subscribe(R=>{if(R.dismiss){N(L=>L.map(H=>H.id===R.id?{...H,delete:!0}:H));return}setTimeout(()=>{A0.flushSync(()=>{N(L=>{let H=L.findIndex(ue=>ue.id===R.id);return H!==-1?[...L.slice(0,H),{...L[H],...R},...L.slice(H+1)]:[R,...L]})})})}),[]),P.useEffect(()=>{if(l!=="system"){nt(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?nt("dark"):nt("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:R})=>{nt(R?"dark":"light")})},[l]),P.useEffect(()=>{j.length<=1&&M(!1)},[j]),P.useEffect(()=>{let R=L=>{var H,ue;n.every(Re=>L[Re]||L.code===Re)&&(M(!0),(H=re.current)==null||H.focus()),L.code==="Escape"&&(document.activeElement===re.current||(ue=re.current)!=null&&ue.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[n]),P.useEffect(()=>{if(re.current)return()=>{b.current&&(b.current.focus({preventScroll:!0}),b.current=null,O.current=!1)}},[re.current]),j.length?P.createElement("section",{"aria-label":`${m} ${_e}`,tabIndex:-1},C.map((R,L)=>{var H;let[ue,Re]=R.split("-");return P.createElement("ol",{key:R,dir:y==="auto"?Hc():y,tabIndex:-1,ref:re,className:o,"data-sonner-toaster":!0,"data-theme":Ge,"data-y-position":ue,"data-x-position":Re,style:{"--front-toast-height":`${((H=S[0])==null?void 0:H.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||hw,"--width":`${pw}px`,"--gap":`${x}px`,...f},onBlur:q=>{O.current&&!q.currentTarget.contains(q.relatedTarget)&&(O.current=!1,b.current&&(b.current.focus({preventScroll:!0}),b.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||O.current||(O.current=!0,b.current=q.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{ee||M(!1)},onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||ve(!0)},onPointerUp:()=>ve(!1)},j.filter(q=>!q.position&&L===0||q.position===R).map((q,Ne)=>{var ft,It;return P.createElement(ww,{key:q.id,icons:p,index:Ne,toast:q,defaultRichColors:c,duration:(ft=g==null?void 0:g.duration)!=null?ft:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:d,closeButton:(It=g==null?void 0:g.closeButton)!=null?It:i,interacting:ee,position:R,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:$,toasts:j.filter(cr=>cr.position==q.position),heights:S.filter(cr=>cr.position==q.position),setHeights:A,expandByDefault:s,gap:x,loadingIcon:w,expanded:I,pauseWhenPageIsHidden:v,cn:_})}))})):null};const Bf=k.createContext(void 0),Zl=()=>{const e=k.useContext(Bf);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},_w=({children:e})=>{const[t,r]=k.useState([]),{user:n}=Or();k.useEffect(()=>{n?s():r([])},[n]);const s=async()=>{var d;if(n)try{console.log("Fetching cart items for user:",n.id);const[g,y]=await Promise.all([V.from("cart_items").select("*").eq("user_id",n.id),V.from("products").select("*")]);if(g.error)throw console.error("Cart items fetch error:",g.error),g.error;if(y.error)throw console.error("Products fetch error:",y.error),y.error;const x=((d=g.data)==null?void 0:d.map(w=>{var m;const p=(m=y.data)==null?void 0:m.find(v=>v.id===w.product_id);return{id:w.id,product_id:w.product_id,name:(p==null?void 0:p.name)||"Unknown Product",price:(p==null?void 0:p.price)||0,quantity:w.quantity,image_url:(p==null?void 0:p.image_url)||""}}))||[];console.log("Cart items loaded:",x.length),r(x)}catch(g){console.error("Error fetching cart items:",g),z.error("Failed to load cart items")}},i=async d=>{if(!n){z.error("Please login to add items to cart");return}try{console.log("Adding to cart:",d.id);const{data:g}=await V.from("cart_items").select("*").eq("user_id",n.id).eq("product_id",d.id).single();if(g){const{error:y}=await V.from("cart_items").update({quantity:g.quantity+1}).eq("id",g.id);if(y)throw console.error("Update quantity error:",y),y;console.log("Cart item quantity updated")}else{const{error:y}=await V.from("cart_items").insert({user_id:n.id,product_id:d.id,quantity:1});if(y)throw console.error("Add to cart error:",y),y;console.log("New item added to cart")}await s()}catch(g){console.error("Add to cart failed:",g),z.error("Failed to add item to cart")}},o=async d=>{if(n)try{console.log("Removing from cart:",d);const{error:g}=await V.from("cart_items").delete().eq("user_id",n.id).eq("product_id",d);if(g)throw console.error("Remove from cart error:",g),g;console.log("Item removed from cart"),await s()}catch(g){console.error("Remove from cart failed:",g),z.error("Failed to remove item from cart")}},a=async(d,g)=>{if(n){if(g<=0){await o(d);return}try{console.log("Updating quantity:",d,g);const{error:y}=await V.from("cart_items").update({quantity:g}).eq("user_id",n.id).eq("product_id",d);if(y)throw console.error("Update quantity error:",y),y;console.log("Cart item quantity updated"),await s()}catch(y){console.error("Update quantity failed:",y),z.error("Failed to update quantity")}}},l=async()=>{if(n)try{console.log("Clearing cart for user:",n.id);const{error:d}=await V.from("cart_items").delete().eq("user_id",n.id);if(d)throw console.error("Clear cart error:",d),d;console.log("Cart cleared"),r([])}catch(d){console.error("Clear cart failed:",d),z.error("Failed to clear cart")}},c=()=>t.reduce((d,g)=>d+g.price*g.quantity,0),f={cartItems:t,addToCart:i,removeFromCart:o,updateQuantity:a,clearCart:l,getCartTotal:c,checkout:async()=>{if(!n||t.length===0){z.error("Cart is empty");return}try{console.log("Processing checkout for user:",n.id);const d=c(),{data:g,error:y}=await V.from("orders").insert({user_id:n.id,total_amount:d,status:"pending"}).select().single();if(y)throw console.error("Order creation error:",y),y;console.log("Order created:",g.id);const x=t.map(p=>({order_id:g.id,product_id:p.product_id,quantity:p.quantity,price:p.price})),{error:w}=await V.from("order_items").insert(x);if(w)throw console.error("Order items creation error:",w),w;console.log("Order items created"),await l(),z.success("Order placed successfully!")}catch(d){console.error("Checkout failed:",d),z.error("Failed to process checkout")}}};return u.jsx(Bf.Provider,{value:f,children:e})};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wf=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>k.createElement("svg",{ref:l,...Sw,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Wf("lucide",s),...a},[...o.map(([c,h])=>k.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const r=k.forwardRef(({className:n,...s},i)=>k.createElement(jw,{ref:i,iconNode:t,className:Wf(`lucide-${kw(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=ge("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=ge("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=ge("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=ge("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=ge("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=ge("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Rw=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[s,i]=k.useState(!0),[o,a]=k.useState(""),{addToCart:l}=Zl(),{user:c}=Or();k.useEffect(()=>{(async()=>{var g,y;try{i(!0);const[x,w]=await Promise.all([V.from("products").select("*").eq("is_featured",!0).limit(8),V.from("testimonials").select("*").order("created_at",{ascending:!1}).limit(6)]);if(x.error)throw console.error("Products fetch error:",x.error),x.error;if(w.error)throw console.error("Testimonials fetch error:",w.error),w.error;console.log("Products loaded:",((g=x.data)==null?void 0:g.length)||0),console.log("Testimonials loaded:",((y=w.data)==null?void 0:y.length)||0),t(x.data||[]),n(w.data||[])}catch(x){console.error("Error fetching data:",x),a(x.message)}finally{i(!1)}})()},[]);const h=d=>{const g=document.getElementById(d);g==null||g.scrollIntoView({behavior:"smooth"})},f=async d=>{if(!c){z.error("Please login to add items to cart");return}try{await l(d),z.success(`${d.name} added to cart!`)}catch{z.error("Failed to add item to cart")}};return s?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o?u.jsx("div",{className:"text-center py-12 text-red-600",children:u.jsxs("p",{children:["Error loading data: ",o]})}):u.jsxs("div",{className:"min-h-screen",children:[u.jsx("section",{className:"bg-gradient-to-r from-primary-600 to-secondary-600 text-white py-20",children:u.jsxs("div",{className:"container mx-auto px-4 text-center",children:[u.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-white to-accent-200 bg-clip-text text-transparent",children:"Nonna's Pizzeria"}),u.jsx("p",{className:"text-xl md:text-2xl mb-8 opacity-90",children:"Authentic Italian Pizza Made with Love & Tradition"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsx("button",{onClick:()=>h("menu"),className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"View Menu"}),u.jsx("button",{onClick:()=>h("about"),className:"border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-primary-600 transition-colors",children:"Our Story"})]})]})}),u.jsx("section",{id:"about",className:"py-20 bg-white",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-8",children:"Our Story"}),u.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"For over 30 years, Nonna's Pizzeria has been serving authentic Italian pizza made with traditional recipes passed down through generations. Every pizza is hand-crafted with the finest ingredients and baked in our wood-fired oven."}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"bg-primary-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(bw,{className:"w-8 h-8 text-primary-600"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"30+ Years"}),u.jsx("p",{className:"text-gray-600",children:"of authentic Italian tradition"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"bg-secondary-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Qf,{className:"w-8 h-8 text-secondary-600"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Family Owned"}),u.jsx("p",{className:"text-gray-600",children:"Recipes passed down generations"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"bg-accent-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Hf,{className:"w-8 h-8 text-accent-600"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Fresh Daily"}),u.jsx("p",{className:"text-gray-600",children:"Made fresh every morning"})]})]})]})})}),u.jsx("section",{id:"menu",className:"py-20 bg-gray-50",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsx("h2",{className:"text-4xl font-bold text-center text-gray-800 mb-12",children:"Our Featured Pizzas"}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:e.map(d=>u.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[u.jsx("div",{className:"aspect-w-16 aspect-h-12 bg-gray-200",children:u.jsx("img",{src:"https://images.unsplash.com/photo-1658057543062-bc3c85d74fc5?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:d.name,className:"w-full h-48 object-cover"})}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-semibold mb-2",children:d.name}),u.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:d.description}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:["$",d.price.toFixed(2)]}),u.jsxs("button",{onClick:()=>f(d),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2",children:[u.jsx(eu,{className:"w-4 h-4"}),"Add to Cart"]})]})]})]},d.id))})]})}),u.jsx("section",{id:"testimonials",className:"py-20 bg-white",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsx("h2",{className:"text-4xl font-bold text-center text-gray-800 mb-12",children:"What Our Customers Say"}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(d=>u.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 shadow-md",children:[u.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((g,y)=>u.jsx(qf,{className:`w-5 h-5 ${y<d.rating?"text-accent-500 fill-current":"text-gray-300"}`},y))}),u.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',d.content,'"']}),u.jsx("p",{className:"font-semibold text-gray-800",children:d.customer_name})]},d.id))})]})}),u.jsx("section",{id:"contact",className:"py-20 bg-primary-600 text-white",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx("h2",{className:"text-4xl font-bold mb-8",children:"Visit Us Today"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Location"}),u.jsx("p",{className:"text-lg opacity-90 mb-2",children:"123 Italian Street"}),u.jsx("p",{className:"text-lg opacity-90 mb-2",children:"Little Italy, NY 10013"}),u.jsx("p",{className:"text-lg opacity-90",children:"(555) 123-PIZZA"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Hours"}),u.jsx("p",{className:"text-lg opacity-90 mb-2",children:"Monday - Thursday: 11am - 10pm"}),u.jsx("p",{className:"text-lg opacity-90 mb-2",children:"Friday - Saturday: 11am - 11pm"}),u.jsx("p",{className:"text-lg opacity-90",children:"Sunday: 12pm - 9pm"})]})]})]})})})]})},Iw=()=>{const[e,t]=k.useState(""),[r,n]=k.useState(""),[s,i]=k.useState(!1),[o,a]=k.useState(!1),[l,c]=k.useState(""),h=async f=>{if(f.preventDefault(),!(e!=null&&e.trim())){z.error("Email is required");return}if(!e.includes("@")){z.error("Please enter a valid email");return}if(!(r!=null&&r.trim())){z.error("Password is required");return}a(!0),c("");try{console.log("Attempting login with email:",e);const{data:d,error:g}=await V.auth.signInWithPassword({email:e.trim(),password:r.trim()});if(g)throw console.error("Login error:",g),g;d.user&&(console.log("Login successful for user:",d.user.id),z.success("Login successful!"))}catch(d){console.error("Login failed:",d),c("Invalid email or password. Please try again."),z.error("Invalid email or password. Please try again.")}finally{a(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center py-12 px-4",children:u.jsx("div",{className:"max-w-md w-full space-y-8",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Welcome Back"}),u.jsx("p",{className:"text-gray-600",children:"Sign in to your account"})]}),l&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:l}),u.jsxs("form",{onSubmit:h,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),u.jsx("input",{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"password",type:s?"text":"password",value:r,onChange:f=>n(f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Enter your password",required:!0}),u.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s?u.jsx(Ka,{className:"h-5 w-5 text-gray-400"}):u.jsx(Ga,{className:"h-5 w-5 text-gray-400"})})]})]}),u.jsx("button",{type:"submit",disabled:o,className:"w-full bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Signing in...":"Sign In"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",u.jsx(Me,{to:"/signup",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign up here"})]})}),u.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-md",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Demo Credentials:"}),u.jsx("p",{className:"text-xs text-gray-500",children:"Admin: admin123@gmail.com / admin1234"})]})]})})})},Lw=()=>{const[e,t]=k.useState({fullName:"",email:"",password:"",confirmPassword:""}),[r,n]=k.useState(!1),[s,i]=k.useState(!1),[o,a]=k.useState(!1),[l,c]=k.useState(""),h=d=>{t({...e,[d.target.name]:d.target.value})},f=async d=>{var g,y,x;if(d.preventDefault(),!((g=e.fullName)!=null&&g.trim())){z.error("Full name is required");return}if(!((y=e.email)!=null&&y.trim())){z.error("Email is required");return}if(!e.email.includes("@")){z.error("Please enter a valid email");return}if(!((x=e.password)!=null&&x.trim())){z.error("Password is required");return}if(e.password.length<6){z.error("Password must be at least 6 characters");return}if(e.password!==e.confirmPassword){z.error("Passwords do not match");return}a(!0),c("");try{console.log("Attempting signup with email:",e.email);const{data:w,error:p}=await V.auth.signUp({email:e.email.trim(),password:e.password.trim(),options:{data:{full_name:e.fullName.trim()}}});if(p)throw console.error("Signup error:",p),p;w.user&&(console.log("Signup successful for user:",w.user.id),z.success("Account created successfully! Please check your email for verification."))}catch(w){console.error("Signup failed:",w),c(w.message||"Failed to create account. Please try again."),z.error(w.message||"Failed to create account. Please try again.")}finally{a(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center py-12 px-4",children:u.jsx("div",{className:"max-w-md w-full space-y-8",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Create Account"}),u.jsx("p",{className:"text-gray-600",children:"Join Nonna's Pizzeria family"})]}),l&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:l}),u.jsxs("form",{onSubmit:f,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),u.jsx("input",{id:"fullName",name:"fullName",type:"text",value:e.fullName,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your full name",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),u.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"password",name:"password",type:r?"text":"password",value:e.password,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Create a password",required:!0}),u.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r?u.jsx(Ka,{className:"h-5 w-5 text-gray-400"}):u.jsx(Ga,{className:"h-5 w-5 text-gray-400"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:s?"text":"password",value:e.confirmPassword,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent pr-10",placeholder:"Confirm your password",required:!0}),u.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s?u.jsx(Ka,{className:"h-5 w-5 text-gray-400"}):u.jsx(Ga,{className:"h-5 w-5 text-gray-400"})})]})]}),u.jsx("button",{type:"submit",disabled:o,className:"w-full bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Creating Account...":"Create Account"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",u.jsx(Me,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Sign in here"})]})})]})})})},$w=()=>{const{user:e,profile:t,loading:r}=Or(),[n,s]=k.useState([]),[i,o]=k.useState(!0),[a,l]=k.useState("");k.useEffect(()=>{t&&c()},[t]);const c=async()=>{var f;if(e)try{o(!0),console.log("Fetching orders for user:",e.id);const[d,g,y]=await Promise.all([V.from("orders").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}),V.from("order_items").select("*"),V.from("products").select("*")]);if(d.error)throw console.error("Orders fetch error:",d.error),d.error;if(g.error)throw console.error("Order items fetch error:",g.error),g.error;if(y.error)throw console.error("Products fetch error:",y.error),y.error;const x=((f=d.data)==null?void 0:f.map(w=>{var v;const m=(((v=g.data)==null?void 0:v.filter(_=>_.order_id===w.id))||[]).map(_=>{var N;const j=(N=y.data)==null?void 0:N.find(C=>C.id===_.product_id);return{..._,products:j?{name:j.name,image_url:j.image_url}:{name:"Unknown Product",image_url:""}}});return{...w,order_items:m}}))||[];console.log("Orders loaded:",x.length),s(x)}catch(d){console.error("Error fetching orders:",d),l(d.message),z.error("Failed to load orders")}finally{o(!1)}},h=f=>{switch(f){case"pending":return"bg-yellow-100 text-yellow-800";case"preparing":return"bg-blue-100 text-blue-800";case"ready":return"bg-green-100 text-green-800";case"delivered":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return r?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?u.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"bg-primary-100 p-3 rounded-full",children:u.jsx(Gf,{className:"w-8 h-8 text-primary-600"})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:["Welcome, ",t.full_name||"User","!"]}),u.jsx("p",{className:"text-gray-600",children:t.email})]})]})}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[u.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),u.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n.length})]}),u.jsx(Ii,{className:"w-8 h-8 text-primary-600"})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Spent"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",n.reduce((f,d)=>f+d.total_amount,0).toFixed(2)]})]}),u.jsx(qf,{className:"w-8 h-8 text-accent-600"})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Recent Orders"}),u.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n.filter(f=>{const d=new Date(f.created_at),g=new Date;return g.setDate(g.getDate()-7),d>=g}).length})]}),u.jsx(Hf,{className:"w-8 h-8 text-secondary-600"})]})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[u.jsx("div",{className:"p-6 border-b",children:u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Order History"})}),i?u.jsxs("div",{className:"p-8 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Loading orders..."})]}):a?u.jsx("div",{className:"p-8 text-center text-red-600",children:u.jsxs("p",{children:["Error loading orders: ",a]})}):n.length===0?u.jsxs("div",{className:"p-8 text-center",children:[u.jsx(Ii,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"No orders yet. Start by browsing our menu!"})]}):u.jsx("div",{className:"divide-y",children:n.map(f=>u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold text-gray-800",children:["Order #",f.id.slice(-8)]}),u.jsx("p",{className:"text-sm text-gray-600",children:new Date(f.created_at).toLocaleDateString()})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h(f.status)}`,children:f.status.charAt(0).toUpperCase()+f.status.slice(1)}),u.jsxs("p",{className:"text-lg font-bold text-gray-800 mt-1",children:["$",f.total_amount.toFixed(2)]})]})]}),u.jsx("div",{className:"space-y-2",children:f.order_items.map(d=>u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("img",{src:d.products.image_url,alt:d.products.name,className:"w-12 h-12 object-cover rounded"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium text-gray-800",children:d.products.name}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",d.quantity," × $",d.price.toFixed(2)]})]})]},d.id))})]},f.id))})]})]})}):u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600",children:"Please log in to access your dashboard."})]})})},Aw=()=>{const{profile:e,loading:t}=Or(),[r,n]=k.useState([]),[s,i]=k.useState([]),[o,a]=k.useState({totalOrders:0,totalProducts:0,totalUsers:0,totalRevenue:0}),[l,c]=k.useState(!0),[h,f]=k.useState("products"),[d,g]=k.useState(!1),[y,x]=k.useState(null),[w,p]=k.useState({name:"",description:"",price:0,image_url:"",category:"",is_featured:!1});k.useEffect(()=>{(e==null?void 0:e.role)==="admin"?m():e&&e.role!=="admin"&&console.warn("Non-admin user attempted to access admin dashboard")},[e]);const m=async()=>{var S,A,I,M,ee,ve,Ge,nt;try{c(!0);const[re,_e,b,O]=await Promise.all([V.from("products").select("*").order("created_at",{ascending:!1}),V.from("orders").select("*").order("created_at",{ascending:!1}),V.from("profiles").select("*"),V.from("order_items").select("*")]);if(re.error)throw console.error("Products error:",re.error),re.error;if(_e.error)throw console.error("Orders error:",_e.error),_e.error;if(b.error)throw console.error("Profiles error:",b.error),b.error;if(O.error)throw console.error("Order items error:",O.error),O.error;console.log("Products loaded:",((S=re.data)==null?void 0:S.length)||0),console.log("Orders loaded:",((A=_e.data)==null?void 0:A.length)||0),console.log("Profiles loaded:",((I=b.data)==null?void 0:I.length)||0),console.log("Order items loaded:",((M=O.data)==null?void 0:M.length)||0);const $=(ee=_e.data)==null?void 0:ee.map(R=>{var Re,q;const L=(Re=b.data)==null?void 0:Re.find(Ne=>Ne.id===R.user_id),H=(q=O.data)==null?void 0:q.filter(Ne=>Ne.order_id===R.id),ue=H==null?void 0:H.map(Ne=>{var It;const ft=(It=re.data)==null?void 0:It.find(cr=>cr.id===Ne.product_id);return{...Ne,products:ft?{name:ft.name,price:ft.price,image_url:ft.image_url}:null}});return{...R,profiles:L?{full_name:L.full_name,email:L.email}:null,order_items:ue||[]}});n(re.data||[]),i($||[]),a({totalOrders:((ve=_e.data)==null?void 0:ve.length)||0,totalProducts:((Ge=re.data)==null?void 0:Ge.length)||0,totalUsers:((nt=b.data)==null?void 0:nt.filter(R=>R.role==="user").length)||0,totalRevenue:($==null?void 0:$.reduce((R,L)=>R+(L.total_amount||0),0))||0})}catch(re){console.error("Error fetching admin data:",re),z.error("Failed to load dashboard data")}finally{c(!1)}},v=async S=>{var A,I;if(S.preventDefault(),!((A=w.name)!=null&&A.trim())){z.error("Product name is required");return}if(w.price<=0){z.error("Price must be greater than 0");return}if(!((I=w.category)!=null&&I.trim())){z.error("Category is required");return}try{if(console.log("Submitting product:",w),y){const{data:M,error:ee}=await V.from("products").update({name:w.name.trim(),description:w.description.trim(),price:w.price,image_url:w.image_url.trim(),category:w.category.trim(),is_featured:w.is_featured}).eq("id",y.id).select();if(ee)throw console.error("Update error:",ee),ee;console.log("Product updated:",M),z.success("Product updated successfully!")}else{const{data:M,error:ee}=await V.from("products").insert({name:w.name.trim(),description:w.description.trim(),price:w.price,image_url:w.image_url.trim(),category:w.category.trim(),is_featured:w.is_featured}).select();if(ee)throw console.error("Insert error:",ee),ee;console.log("Product created:",M),z.success("Product created successfully!")}p({name:"",description:"",price:0,image_url:"",category:"",is_featured:!1}),x(null),g(!1),m()}catch(M){console.error("Product submission failed:",M),z.error(M.message||"Failed to save product")}},_=S=>{x(S),p({name:S.name,description:S.description,price:S.price,image_url:S.image_url,category:S.category,is_featured:S.is_featured}),g(!0)},j=async S=>{if(confirm("Are you sure you want to delete this product?"))try{console.log("Deleting product:",S);const{error:A}=await V.from("products").delete().eq("id",S);if(A)throw console.error("Delete error:",A),A;console.log("Product deleted successfully"),z.success("Product deleted successfully!"),m()}catch(A){console.error("Delete failed:",A),z.error(A.message||"Failed to delete product")}},N=async(S,A)=>{try{console.log("Updating order status:",S,A);const{error:I}=await V.from("orders").update({status:A}).eq("id",S);if(I)throw console.error("Status update error:",I),I;console.log("Order status updated successfully"),z.success("Order status updated!"),m()}catch(I){console.error("Status update failed:",I),z.error(I.message||"Failed to update order status")}},C=()=>{g(!1),x(null),p({name:"",description:"",price:0,image_url:"",category:"",is_featured:!1})};return t?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):!e||e.role!=="admin"?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})}):u.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Admin Dashboard"}),u.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",e.full_name,"!"]})]}),u.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[u.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Orders"}),u.jsx("p",{className:"text-2xl font-bold text-primary-600",children:o.totalOrders})]}),u.jsx(eu,{className:"w-8 h-8 text-primary-600"})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Products"}),u.jsx("p",{className:"text-2xl font-bold text-secondary-600",children:o.totalProducts})]}),u.jsx(Tw,{className:"w-8 h-8 text-secondary-600"})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Users"}),u.jsx("p",{className:"text-2xl font-bold text-accent-600",children:o.totalUsers})]}),u.jsx(Qf,{className:"w-8 h-8 text-accent-600"})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),u.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",o.totalRevenue.toFixed(2)]})]}),u.jsx(Ew,{className:"w-8 h-8 text-green-600"})]})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[u.jsx("div",{className:"border-b",children:u.jsxs("nav",{className:"flex space-x-8 px-6",children:[u.jsx("button",{onClick:()=>f("products"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="products"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Products"}),u.jsx("button",{onClick:()=>f("orders"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="orders"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Orders"})]})}),u.jsxs("div",{className:"p-6",children:[h==="products"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Products"}),u.jsxs("button",{onClick:()=>g(!0),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 flex items-center gap-2",children:[u.jsx(Vf,{className:"w-4 h-4"}),"Add Product"]})]}),l?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Loading products..."})]}):u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(S=>u.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[u.jsx("img",{src:S.image_url,alt:S.name,className:"w-full h-40 object-cover rounded-lg mb-4"}),u.jsx("h3",{className:"font-semibold text-lg mb-2",children:S.name}),u.jsx("p",{className:"text-gray-600 text-sm mb-2",children:S.description}),u.jsxs("p",{className:"text-primary-600 font-bold text-lg mb-2",children:["$",S.price.toFixed(2)]}),u.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Category: ",S.category]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:`px-2 py-1 rounded text-xs ${S.is_featured?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.is_featured?"Featured":"Regular"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>_(S),className:"text-blue-600 hover:text-blue-800",children:u.jsx(Ow,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>j(S.id),className:"text-red-600 hover:text-red-800",children:u.jsx(Kf,{className:"w-4 h-4"})})]})]})]},S.id))})]}),h==="orders"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Orders"}),l?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Loading orders..."})]}):u.jsx("div",{className:"space-y-4",children:s.map(S=>{var A,I;return u.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-lg",children:["Order #",S.id.slice(-8)]}),u.jsxs("p",{className:"text-gray-600",children:["Customer: ",((A=S.profiles)==null?void 0:A.full_name)||"Unknown"," (",((I=S.profiles)==null?void 0:I.email)||"No email",")"]}),u.jsxs("p",{className:"text-gray-600",children:["Date: ",new Date(S.created_at).toLocaleDateString()]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-xl font-bold text-primary-600",children:["$",S.total_amount.toFixed(2)]}),u.jsxs("select",{value:S.status,onChange:M=>N(S.id,M.target.value),className:"mt-2 px-3 py-1 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"preparing",children:"Preparing"}),u.jsx("option",{value:"ready",children:"Ready"}),u.jsx("option",{value:"delivered",children:"Delivered"})]})]})]}),u.jsxs("div",{className:"border-t pt-4",children:[u.jsx("h4",{className:"font-medium mb-2",children:"Items:"}),u.jsx("div",{className:"space-y-2",children:S.order_items.map(M=>{var ee,ve,Ge;return u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("img",{src:((ee=M.products)==null?void 0:ee.image_url)||"/placeholder.jpg",alt:((ve=M.products)==null?void 0:ve.name)||"Unknown",className:"w-10 h-10 object-cover rounded"}),u.jsx("span",{children:((Ge=M.products)==null?void 0:Ge.name)||"Unknown Product"})]}),u.jsx("div",{children:u.jsxs("span",{className:"text-gray-600",children:[M.quantity," × $",M.price.toFixed(2)]})})]},M.id)})})]})]},S.id)})})]})]})]})]}),d&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-xl font-bold",children:y?"Edit Product":"Add New Product"}),u.jsx("button",{onClick:C,className:"text-gray-500 hover:text-gray-700",children:u.jsx(Jf,{className:"w-6 h-6"})})]}),u.jsxs("form",{onSubmit:v,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),u.jsx("input",{type:"text",value:w.name,onChange:S=>p({...w,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),u.jsx("textarea",{value:w.description,onChange:S=>p({...w,description:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",rows:3})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),u.jsx("input",{type:"number",step:"0.01",min:"0.01",value:w.price,onChange:S=>p({...w,price:parseFloat(S.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),u.jsx("input",{type:"url",value:w.image_url,onChange:S=>p({...w,image_url:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),u.jsxs("select",{value:w.category,onChange:S=>p({...w,category:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[u.jsx("option",{value:"",children:"Select Category"}),u.jsx("option",{value:"pizza",children:"Pizza"}),u.jsx("option",{value:"appetizer",children:"Appetizer"}),u.jsx("option",{value:"salad",children:"Salad"}),u.jsx("option",{value:"dessert",children:"Dessert"}),u.jsx("option",{value:"drink",children:"Drink"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"is_featured",checked:w.is_featured,onChange:S=>p({...w,is_featured:S.target.checked}),className:"mr-2"}),u.jsx("label",{htmlFor:"is_featured",className:"text-sm font-medium text-gray-700",children:"Featured Product"})]}),u.jsxs("div",{className:"flex space-x-4 pt-4",children:[u.jsx("button",{type:"submit",className:"flex-1 bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:y?"Update Product":"Add Product"}),u.jsx("button",{type:"button",onClick:C,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"})]})]})]})})]})},Vc=({children:e,adminOnly:t=!1})=>{const{user:r,profile:n,loading:s}=Or();return s?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r?t&&(n==null?void 0:n.role)!=="admin"?u.jsx(kc,{to:"/dashboard",replace:!0}):u.jsx(u.Fragment,{children:e}):u.jsx(kc,{to:"/login",replace:!0})},Uw=()=>{const{user:e,profile:t,logout:r}=Or(),{cartItems:n}=Zl(),[s,i]=k.useState(!1),[o,a]=k.useState(!1),l=kn(),c=d=>{if(l.pathname!=="/"){window.location.href=`/#${d}`;return}const g=document.getElementById(d);g&&g.scrollIntoView({behavior:"smooth"}),i(!1)},h=async()=>{try{await r(),z.success("Logged out successfully"),a(!1)}catch{z.error("Error logging out")}},f=n.reduce((d,g)=>d+g.quantity,0);return u.jsxs("header",{className:"bg-white shadow-lg sticky top-0 z-40",children:[u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsx(Me,{to:"/",className:"text-2xl font-bold text-primary-600",children:"Nonna's Pizzeria"}),u.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[u.jsx(Me,{to:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Home"}),u.jsx("button",{onClick:()=>c("about"),className:"text-gray-700 hover:text-primary-600 transition-colors",children:"About"}),u.jsx("button",{onClick:()=>c("menu"),className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Menu"}),u.jsx("button",{onClick:()=>c("testimonials"),className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Reviews"}),u.jsx("button",{onClick:()=>c("contact"),className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Contact"})]}),u.jsx("div",{className:"hidden md:flex items-center space-x-4",children:e?u.jsxs(u.Fragment,{children:[u.jsxs(Me,{to:"/cart",className:"relative",children:[u.jsx(eu,{className:"w-6 h-6 text-gray-700 hover:text-primary-600 transition-colors"}),f>0&&u.jsx("span",{className:"absolute -top-2 -right-2 bg-primary-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:f})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>a(!o),className:"flex items-center space-x-2 text-gray-700 hover:text-primary-600 transition-colors",children:[u.jsx(Gf,{className:"w-6 h-6"}),u.jsx("span",{children:(t==null?void 0:t.full_name)||"User"})]}),o&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[u.jsx(Me,{to:(t==null?void 0:t.role)==="admin"?"/admin":"/dashboard",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>a(!1),children:(t==null?void 0:t.role)==="admin"?"Admin Dashboard":"Dashboard"}),u.jsxs("button",{onClick:h,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[u.jsx(Nw,{className:"w-4 h-4 inline mr-2"}),"Logout"]})]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx(Me,{to:"/login",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Login"}),u.jsx(Me,{to:"/signup",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Sign Up"})]})}),u.jsx("button",{onClick:()=>i(!s),className:"md:hidden",children:s?u.jsx(Jf,{className:"w-6 h-6"}):u.jsx(Cw,{className:"w-6 h-6"})})]})}),s&&u.jsx("div",{className:"md:hidden bg-white border-t",children:u.jsxs("nav",{className:"px-4 py-2 space-y-2",children:[u.jsx(Me,{to:"/",className:"block py-2 text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>i(!1),children:"Home"}),u.jsx("button",{onClick:()=>c("about"),className:"block w-full text-left py-2 text-gray-700 hover:text-primary-600 transition-colors",children:"About"}),u.jsx("button",{onClick:()=>c("menu"),className:"block w-full text-left py-2 text-gray-700 hover:text-primary-600 transition-colors",children:"Menu"}),u.jsx("button",{onClick:()=>c("testimonials"),className:"block w-full text-left py-2 text-gray-700 hover:text-primary-600 transition-colors",children:"Reviews"}),u.jsx("button",{onClick:()=>c("contact"),className:"block w-full text-left py-2 text-gray-700 hover:text-primary-600 transition-colors",children:"Contact"}),e?u.jsxs(u.Fragment,{children:[u.jsxs(Me,{to:"/cart",className:"block py-2 text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>i(!1),children:["Cart (",f,")"]}),u.jsx(Me,{to:(t==null?void 0:t.role)==="admin"?"/admin":"/dashboard",className:"block py-2 text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>i(!1),children:(t==null?void 0:t.role)==="admin"?"Admin Dashboard":"Dashboard"}),u.jsx("button",{onClick:h,className:"block w-full text-left py-2 text-gray-700 hover:text-primary-600 transition-colors",children:"Logout"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Me,{to:"/login",className:"block py-2 text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>i(!1),children:"Login"}),u.jsx(Me,{to:"/signup",className:"block py-2 text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>i(!1),children:"Sign Up"})]})]})})]})},Dw=()=>{const{cartItems:e,updateQuantity:t,removeFromCart:r,getCartTotal:n,checkout:s}=Zl(),{user:i}=Or(),o=async()=>{if(!i){z.error("Please login to checkout");return}if(e.length===0){z.error("Your cart is empty");return}await s()};return i?u.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Shopping Cart"}),e.length===0?u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[u.jsx(Ii,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Your cart is empty"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Add some delicious pizzas to get started!"}),u.jsx("a",{href:"/",className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:"Browse Menu"})]}):u.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[u.jsx("div",{className:"p-6 border-b",children:u.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Cart Items"})}),u.jsx("div",{className:"divide-y",children:e.map(a=>u.jsxs("div",{className:"p-6 flex items-center space-x-4",children:[u.jsx("img",{src:a.image_url,alt:a.name,className:"w-16 h-16 object-cover rounded-lg"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-gray-800",children:a.name}),u.jsxs("p",{className:"text-primary-600 font-bold",children:["$",a.price.toFixed(2)]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>t(a.product_id,a.quantity-1),className:"w-8 h-8 flex items-center justify-center rounded-full border border-gray-300 hover:bg-gray-50",children:u.jsx(Pw,{className:"w-4 h-4"})}),u.jsx("span",{className:"w-8 text-center font-medium",children:a.quantity}),u.jsx("button",{onClick:()=>t(a.product_id,a.quantity+1),className:"w-8 h-8 flex items-center justify-center rounded-full border border-gray-300 hover:bg-gray-50",children:u.jsx(Vf,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-semibold text-gray-800",children:["$",(a.price*a.quantity).toFixed(2)]}),u.jsx("button",{onClick:()=>r(a.product_id),className:"text-red-600 hover:text-red-800 mt-2",children:u.jsx(Kf,{className:"w-4 h-4"})})]})]},a.id))})]})}),u.jsx("div",{className:"lg:col-span-1",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Order Summary"}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Subtotal"}),u.jsxs("span",{className:"font-medium",children:["$",n().toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),u.jsx("span",{className:"font-medium",children:"$2.99"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Tax"}),u.jsxs("span",{className:"font-medium",children:["$",(n()*.1).toFixed(2)]})]}),u.jsx("div",{className:"border-t pt-2",children:u.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{className:"text-primary-600",children:["$",(n()+2.99+n()*.1).toFixed(2)]})]})})]}),u.jsx("button",{onClick:o,className:"w-full bg-primary-600 text-white py-3 rounded-lg hover:bg-primary-700 transition-colors font-semibold",children:"Proceed to Checkout"}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx("a",{href:"/",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Continue Shopping"})})]})})]})]})})}):u.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[u.jsx(Ii,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Please Login"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to view your cart."}),u.jsx("a",{href:"/login",className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:"Login"})]})})})})};function zw(){return u.jsx(Og,{children:u.jsx(Jy,{children:u.jsx(_w,{children:u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(Uw,{}),u.jsx("main",{children:u.jsxs(jg,{children:[u.jsx(mr,{path:"/",element:u.jsx(Rw,{})}),u.jsx(mr,{path:"/login",element:u.jsx(Iw,{})}),u.jsx(mr,{path:"/signup",element:u.jsx(Lw,{})}),u.jsx(mr,{path:"/cart",element:u.jsx(Dw,{})}),u.jsx(mr,{path:"/dashboard",element:u.jsx(Vc,{children:u.jsx($w,{})})}),u.jsx(mr,{path:"/admin",element:u.jsx(Vc,{adminOnly:!0,children:u.jsx(Aw,{})})})]})}),u.jsx(xw,{position:"top-right"})]})})})})}af(document.getElementById("root")).render(u.jsx(zw,{}));
